!function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=2)}([function(t,e){t.exports=jQuery},function(t,e){t.exports=jui},function(t,e,i){i(4),i(3)},function(t,e,i){"use strict";i.r(e);var n=i(0),o=i.n(n),s=i(1),r=i.n(s),a={name:"event",extend:"core",component:function(){var t=r.a.include("util.base"),e=r.a.include("manager"),i=r.a.include("collection"),n=function(){var t=null;this.find=function(t){return o()(this.root).find(t)},this.addEvent=function(){this.listen.add(arguments)},this.addTrigger=function(t,e){this.listen.trigger(t,e)},this.setVo=function(){this.options.vo&&(null!=t&&t.reload(),t=o()(this.selector).jbinder(),this.bind=t)},this.destroy=function(){for(var t=0;t<this.listen.size();t++){var e=this.listen.get(t);o()(e.target).off(e.type)}if(this.__proto__)for(var i in this.__proto__)delete this.__proto__[i]}};return n.build=function(n){return function(s,a){var l=[],h=o()(s||"<div />");return h.each(function(e){l[e]=r.a.createUIObject(n,h.selector,e,this,a,function(e,i){e.init.prototype.listen=new function(){var e=[];function i(t){for(var i=["webkit","moz","MS","o",""],n=0;n<i.length;n++){var s=t.type;i[n]||(s=s.toLowerCase()),o()(t.target).on(i[n]+s,t.callback)}e.push(t)}function n(t){t.callback&&!t.children?o()(t.target).on(t.type,t.callback):o()(t.target).on(t.type,t.children,t.callback),e.push(t)}function s(t){t.callback&&!t.children?o()(t.target).on(r(t.type),t.callback):o()(t.target).on(r(t.type),t.children,t.callback),e.push(t)}function r(t){return{click:"touchstart",dblclick:"touchend",mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"}[t]}this.add=function(e){var r={target:e[0],type:e[1]};t.typeCheck("function",e[2])?r=o.a.extend(r,{callback:e[2]}):t.typeCheck("string",e[2])&&(r=o.a.extend(r,{children:e[2],callback:e[3]}));for(var a=t.typeCheck("array",r.type)?r.type:[r.type],l=0;l<a.length;l++)r.type=a[l],-1!=r.type.toLowerCase().indexOf("animation")?i(r):("body"!=r.target&&r.target!=window&&r.target!=document&&o()(r.target).off(r.type),t.isTouch?s(r):n(r))},this.trigger=function(e,i){o()(e).trigger(t.isTouch?r(i):i)},this.get=function(t){return e[t]},this.getAll=function(){return e},this.size=function(){return e.length}},o()("script").each(function(t){if(s==o()(this).data("jui")||s==o()(this).data("vo")||s instanceof HTMLElement){var e=o()(this).data("tpl");if(""==e)throw new Error("JUI_CRITICAL_ERR: 'data-tpl' property is required");i.tpl[e]=o()(this).html()}})})}),e.add(new i(n.type,s,a,l)),0==l.length?null:1==l.length?l[0]:l}},n.init=function(t){var i=null;return"object"==typeof t&&(i=n.build(t),e.addClass({type:t.type,class:i})),i},n.setup=function(){return{vo:null}},n}};r.a.redefine("jquery",[],function(){return o.a}),r.a.use(a);var l=r.a,h={name:"ui.accordion",extend:"event",component:function(){var t=l.include("util.base"),e=function(){var e,i=null,n=null;function s(t){i.each(function(i){t==i?(o()(this).addClass("active"),e.options.multipanel?o()(this).next(".content").show():n.insertAfter(this).show()):(o()(this).removeClass("active"),e.options.multipanel&&o()(this).next(".content").hide())})}this.init=function(){e=this;var r=this.options;if(i=o()(this.root).find(".title"),n=o()(this.root).find(".content"),null==r.index)for(var a=0;a<i.length;a++)o()(i[a]).hasClass("active")&&(r.index=a);t.typeCheck("integer",r.index)?s(r.index):n.hide(),function(t){i.each(function(e){t.addEvent(this,"click",function(i){o()(this).hasClass("active")&&t.options.autoFold?(o()(this).removeClass("active"),t.options.multipanel?o()(this).next(".content").hide():n.hide(),t.emit("fold",[e,i])):(s(e),t.emit("open",[e,i]))})})}(this),this.emit("init")},this.activeIndex=function(){return 0}};return e.setup=function(){return{index:null,autoFold:!1,multipanel:!1}},e}},u={name:"ui.dropdown",extend:"event",component:function(){l.include("util.base");var t=function(){var t=e();null!=t&&t.hide()},e=function(){for(var t=l.get("ui.dropdown"),e=0;e<t.length;e++)for(var i=t[e],n=0;n<i.length;n++)if("show"==i[n].type)return i[n];return null};o()(function(){document.addEventListener("click",function(e){var i=e.target.tagName;"LI"!=i&&"INPUT"!=i&&"A"!=i&&"BUTTON"!=i&&"I"!=i&&t()}),window.addEventListener("keydown",function(t){var i=e();null!=i&&i.wheel(t.which,function(){t.preventDefault()})})});var i=function(){var e=null,i=-1;function n(i){var n=o()(e.menu).find("li");n.off("click").off("hover"),i.addEvent(n,"click",function(e){if(!(o()(this).hasClass("divider")||o()(this).hasClass("title")||o()(this).hasClass("disabled"))){var s=function(t){var e=0;return n.each(function(i){t==this&&(e=i)}),e}(this),r=o()(this).text(),a=o()(this).attr("value");i.emit("change",[{index:s,value:a,text:r},e]),i.options.close&&t(),"A"==e.target.tagName&&e.preventDefault()}}),i.addEvent(n,"hover",function(t){n.removeClass("active")})}function s(t,n){var o=e.menu.find("li"),s=o.eq(i);o.removeClass("active"),""!=s.val()||""!=s.html()?(s.addClass("active"),t.options.height>0&&e.menu.scrollTop(i*s.outerHeight())):"function"==typeof n&&n()}this.init=function(){var t=this.options,i=o()(this.root),s=i.find("ul"),r=i.find(".anchor");s=0==s.length?i:s,(e={root:i,menu:s,anchor:r}).root.outerWidth(e.menu.outerWidth()),t.width>0&&s.outerWidth(t.width),t.height>0&&s.css({maxHeight:t.height,overflow:"auto"}),t.left>0&&i.css("left",t.left),t.top>0&&i.css("top",t.top),s.css({display:"block"}),i.css({position:"absolute",display:"none"}),t.nodes.length>0?this.update(t.nodes):n(this),this.type="hide"},this.update=function(t){if(this.tpl.node){o()(e.menu).empty();for(var i=0;i<t.length;i++)o()(e.menu).append(this.tpl.node(t[i]));n(this)}},this.hide=function(){e.root.hide(),this.emit("hide"),this.type="hide"},this.show=function(i,n){t(),e.root.show(),e.anchor.length>0&&e.root.css("margin-top","10px"),2==arguments.length&&this.move(i,n),this.emit("show"),this.type="show"},this.move=function(t,i){e.root.css("left",t),e.root.css("top",i)},this.wheel=function(t,n){if(this.options.keydown){var o=this,r=e.menu.find("li");9!=t?(38!=t&&-1!=t||(i<1?i=r.length-1:i--,s(this,function(){i--,s(o)}),n&&n()),40!=t&&1!=t||(i<r.length-1?i++:i=0,s(o,function(){i++,s(o)}),n&&n()),13!=t&&0!=t&&t||(o.addTrigger(r.eq(i),"click"),i=-1,n&&n())):this.hide()}},this.reload=function(){this.init(),this.emit("reload")}};return i.setup=function(){return{close:!0,keydown:!1,left:0,top:0,width:0,height:0,nodes:[]}},i}},d={name:"ui.autocomplete",extend:"event",component:function(){l.include("util.base");var t=l.include("ui.dropdown"),e=function(){var e=null,i=null,n=[],s=[];function r(n,s){if(0!=s.length){e&&o()(e.root).remove();var r=o()(n.root).position(),a=o()(n.tpl.words({words:s}));o()(n.options.parent).append(a),e=t(a,{keydown:!0,width:o()(n.root).outerWidth(),height:n.options.height,left:r.left,top:r.top+o()(n.root).outerHeight(),event:{change:function(t,e){o()(i).val(t.text),n.emit("change",[t.text,e])}}}),n.options.dx>0||n.options.dy>0?e.show(n.options.dx,n.options.dy):e.show()}else e&&e.hide()}function a(t){t.addEvent(i,"keyup",function(e){if(38!=e.which&&40!=e.which&&13!=e.which)return s=function(t){var e=[];if(""!=t)for(var i=0;i<n.length;i++){var o=n[i],s=n[i].toLowerCase(),r=t.toLowerCase();-1!=s.indexOf(r)&&e.push(o)}return e}(o()(this).val()),r(t,s),!1}),t.options.showAll&&t.addEvent(i,"focus",function(e){if(""==o()(this).val())return r(t,s=n),!1})}this.init=function(){var t=this.options;i=null==t.target?this.root:o()(this.root).find(t.target),a(this),this.update(t.words)},this.update=function(t){n=t},this.close=function(){e&&e.hide()},this.list=function(){return s}};return e.setup=function(){return{parent:"body",target:null,words:[],showAll:!1,dx:0,dy:0,height:"auto"}},e}},c={name:"ui.button",extend:"event",component:function(){var t=l.include("util.base"),e=function(t,e,i){this.data={index:0,value:"",elem:null},this.ui=t,this.element=e,this.options=o.a.extend({index:0,value:""},i),this._setting=function(t,e,i){var n=this,s="active",r=this.options.index,a=this.options.value;function l(t,e){var i=o()(e).attr("value"),r=o()(e).text();n.data={index:t,value:i,text:r},o()(e).addClass(s)}function h(t){o()(t).removeClass(s)}o()(n.element).children(".btn").each(function(n){"event"==t?e.currentTarget==this?l(n,this):h(this):"init"==t&&("value"==i?a==o()(this).attr("value")?l(n,this):h(this):r==n?l(n,this):h(this))})},this.init=function(){var t=this;this.ui.addEvent(o()(t.element).children(".btn"),"click",function(e){if(o()(e.currentTarget).hasClass("disabled"))return!1;t._setting("event",e),t.ui.emit("click",[t.data,e]),t.ui.emit("change",[t.data,e]),e.preventDefault()}),""!=this.options.value?this._setting("init",this.options.value,"value"):this._setting("init",this.options.index,"index")}},i=function(){this.data=[],this.options=o.a.extend({index:[],value:[]},this.options),this._setting=function(t,e,i){var n=this,s="active",r=this.options.index,a=this.options.value;function l(t,e){var i=o()(e).attr("value"),r=o()(e).text();n.data[t]={index:t,value:i,text:r},o()(e).addClass(s)}function h(t,e){n.data[t]=null,o()(e).removeClass(s)}function u(t,e){for(var i=0;i<t.length;i++)if(t[i]==e)return!0;return!1}o()(n.element).children(".btn").each(function(n){"init"==t?"value"==i?u(a,o()(this).attr("value"))?l(n,this):h(n,this):u(r,n)?l(n,this):h(n,this):e.currentTarget==this&&(o()(this).hasClass("active")?h(n,this):l(n,this))})}},n=function(){var n={};this.init=function(){var t=this.options;"radio"==t.type?(n[t.type]=new e(this,this.root,this.options),n[t.type].init()):"check"==t.type&&(i.prototype=new e(this,this.root,this.options),n[t.type]=new i,n[t.type].init())},this.setIndex=function(t){var e=n[this.options.type];e.options.index=t,e._setting("init",null,"index"),this.emit("change",[e.data])},this.setValue=function(t){var e=n[this.options.type];e.options.value=t,e._setting("init",null,"value"),this.emit("change",[e.data])},this.getData=function(){return n[this.options.type].data},this.getValue=function(){var e=this.getData();if(t.typeCheck("array",e)){for(var i=[],n=0;n<e.length;n++)i[n]=null!=e[n]?e[n].value:e[n];return i}return e.value},this.reload=function(){n[this.options.type]._setting("init")},this.enable=function(t){t?o()(this.root).find(".btn").removeClass("disabled"):o()(this.root).find(".btn").addClass("disabled")}};return n.setup=function(){return{type:"radio",index:0,value:""}},n}},p={name:"ui.colorpicker",extend:"event",component:function(){var t=l.include("util.base"),e=l.include("util.color"),i=function(){var i,n,s,r,a,l,h,u,d,c,p,f,v,m,g,y,x,w,b,C,k,z,E,I,D,T,N=[{rgb:"#ff0000",start:0},{rgb:"#ffff00",start:.17},{rgb:"#00ff00",start:.33},{rgb:"#00ffff",start:.5},{rgb:"#0000ff",start:.67},{rgb:"#ff00ff",start:.83},{rgb:"#ff0000",start:1}],_={color_width:226,color_height:145,hue_width:157,opacity_width:119,dragBar_width:12,hueContainer_width:157,opacityDragBar_width:12};function F(t){var n=null;if("hex"==t)n=e.rgb(E.val()),I.val(n.r),D.val(n.g),T.val(n.b);else if("rgb"==t)E.val(e.format({r:parseInt(I.val(),10),g:parseInt(D.val(),10),b:parseInt(T.val(),10)},"hex")),n=e.rgb(E.val());else{var o=i.getColor("hex");E.val(o),n=e.rgb(E.val()),I.val(n.r),D.val(n.g),T.val(n.b)}n.a=M(),f.css("background-color",e.format(n,"hex")),y.val(Math.floor(100*n.a)+"%"),i.emit("change",[e.format(n,"hex"),n])}function S(t){var e=a.offset(),i=_.color_width,n=_.color_height,o=t.clientX-e.left,s=t.clientY-e.top;o<0?o=0:o>i&&(o=i),s<0?s=0:s>n&&(s=n),u.css({left:o-5,top:s-5}).data("pos",{x:o,y:s}),F()}function V(t){var i=v.offset().left,o=i+_.hueContainer_width,s=j(t).clientX;n=s<i?0:s>o?100:(s-i)/(o-i)*100;var r=_.hue_width*(n/100);d.css({left:r-Math.ceil(_.dragBar_width/2)+"px"}).data("pos",{x:r});var l=function(t){for(var i,n,o=0;o<N.length;o++)if(N[o].start>=t){i=N[o-1],n=N[o];break}return i&&n?e.scale().domain(i.rgb,n.rgb)((t-i.start)/(n.start-i.start),"hex"):null}(n/100);a.css("background-color",l),F()}function A(t){var e=m.offset().left,i=e+_.opacity_width,o=j(t).clientX;n=o<e?0:o>i?100:(o-e)/(i-e)*100;var s=_.opacity_width*(n/100);x.css({left:s-Math.ceil(_.opacityDragBar_width/2)+"px"}).data("pos",{x:s}),F()}function M(){var t=x.data("pos")||{x:0};return Math.round(t.x/_.opacity_width*100)/100}function H(t,e){t=t||"div";var i=o()("<"+t+" />");return"object"==typeof e&&i.attr(e),i}function j(e){return t.isTouch?e.originalEvent.touches[0]:e}function Y(t){var e=t.which,i=!1;return 37!=e&&39!=e&&8!=e&&46!=e&&9!=e||(i=!0),!(!i&&(e<48||e>57))}function L(t){var i=I.val(),n=D.val(),o=T.val();""!=i&&""!=n&&""!=o&&(parseInt(i)>255?I.val(255):I.val(parseInt(i)),parseInt(n)>255?D.val(255):D.val(parseInt(n)),parseInt(o)>255?T.val(255):T.val(parseInt(o)),R(e.format({r:parseInt(I.val()),g:parseInt(D.val()),b:parseInt(T.val())},"hex"),"rgb"))}function R(t,n){var o=t||i.options.color,s=e.rgb(o);a.css("background-color",o);var r=e.RGBtoHSV(s.r,s.g,s.b),l=_.color_width*r.s,h=_.color_height*(1-r.v);u.css({left:l-5,top:h-5}).data("pos",{x:l,y:h});var c=_.hue_width*(r.h/360);d.css({left:c-7.5}).data("pos",{x:c});var p=_.opacity_width*(s.a||0);x.css({left:p-7.5}).data("pos",{x:p}),F(n)}this.init=function(){i=this,this.options,s=o()(this.root),a=H("div",{class:"color"}),u=H("div",{class:"drag-pointer"}),l=H("div",{class:"value"}),h=H("div",{class:"saturation"}),c=H("div",{class:"control"}),p=H("div",{class:"empty"}),f=H("div",{class:"color"}),r=H("div",{class:"hue"}),v=H("div",{class:"container"}),d=H("div",{class:"drag-bar"}),m=H("div",{class:"opacity"}),g=H("div",{class:"container"}),y=H("input",{class:"input",type:"text",disabled:!0}),x=H("div",{class:"drag-bar2"}),w=H("div",{class:"information"}),b=H("div",{class:"title"}).html("HEX"),C=H("div",{class:"title"}).html("R"),k=H("div",{class:"title"}).html("G"),z=H("div",{class:"title"}).html("B"),E=H("input",{class:"input",type:"text",maxlength:7}),I=H("input",{class:"input",type:"text",maxlength:3}),D=H("input",{class:"input",type:"text",maxlength:3}),T=H("input",{class:"input",type:"text",maxlength:3}),l.html(u),h.html(l),a.html(h),v.html(d),r.html(v),g.html(x),m.html(g),c.append(r),c.append(m),c.append(y),c.append(p),c.append(f),w.append(E),w.append(I),w.append(D),w.append(T),w.append(b),w.append(C),w.append(k),w.append(z),s.html(a),s.append(c),s.append(w),i.addEvent(a,"mousedown",function(t){a.data("isDown",!0),S(t)}),i.addEvent(a,"mouseup",function(t){a.data("isDown",!1)}),i.addEvent(d,"mousedown",function(t){t.preventDefault(),r.data("isDown",!0)}),i.addEvent(x,"mousedown",function(t){t.preventDefault(),m.data("isDown",!0)}),i.addEvent(v,"mousedown",function(t){r.data("isDown",!0),V(t)}),i.addEvent(g,"mousedown",function(t){m.data("isDown",!0),A(t)}),i.addEvent(E,"keydown",function(t){if(t.which<65||t.which>70)return Y(t)}),i.addEvent(E,"keyup",function(t){var n=o()(this).val();13==t.which&&("#"!=n.charAt(0)||7!=n.length&&4!=n.length||(R(n,"hex"),i.emit("enter",[n,e.rgb(n)])))}),i.addEvent(I,"keydown",Y),i.addEvent(I,"keyup",L),i.addEvent(D,"keydown",Y),i.addEvent(D,"keyup",L),i.addEvent(T,"keydown",Y),i.addEvent(T,"keyup",L),i.addEvent(document,"mouseup",function(t){a.data("isDown",!1),r.data("isDown",!1),m.data("isDown",!1)}),i.addEvent(document,"mousemove",function(t){a.data("isDown")&&S(t),r.data("isDown")&&V(t),m.data("isDown")&&A(t)}),R()},this.setColor=function(t){if("object"==typeof t){if(!t.r||!t.g||!t.b)return;R(e.format(t,"hex"))}else if("string"==typeof t){if("#"!=t.charAt(0))return;R(t)}},this.getColor=function(t){var i=function(){var t=u.data("pos")||{x:0,y:0},i=d.data("pos")||{x:0},n=_.color_width,o=_.color_height,s=i.x/_.hue_width*360,r=t.x/n,a=(o-t.y)/o,l=e.HSVtoRGB(s,r,a);return l.a=M(),l}();return t?("hex"==t&&i.a<1&&(t="rgb"),e.format(i,t)):i}};return i.setup=function(){return{type:"full",color:"#FF0000"}},i}},f={name:"ui.combo",extend:"event",component:function(){var t=l.include("util.base"),e=function(){for(var t=l.get("ui.combo"),e=0;e<t.length;e++)for(var i=t[e],n=0;n<i.length;n++)"open"==i[n].type&&i[n].fold()};o()(function(){document.addEventListener("click",function(t){e()})});var i=function(){var i=null,n=null,s=-1;function r(t,e){var s=i.root,r=i.text,l=i.drop.children("li");l.each(function(i){var l=a(this),h=o()(l).attr("value"),u=o()(l).text();h||(h=u,o()(l).attr("value",h)),("index"==t&&e==i||"value"==t&&e==h)&&(n={index:i,value:h,text:u},s.attr("value",h),r.html(u),s.select&&s.select[0]&&(s.select[0].selectedIndex=i))}),0==l.length&&(n=null)}function a(t){return o()(t).children("a").length>0?o()(t).children("a")[0]:t}function l(t,e){var n=i.drop.children("li"),o=n.eq(s);n.removeClass("active"),""!=o.val()||""!=o.html()?(o.addClass("active"),t.options.height>0&&i.drop.scrollTop(s*o.outerHeight())):"function"==typeof e&&e()}function h(){var t=0;return i.drop.children("li").each(function(e){var i=a(this);t=Math.max(t,o()(i).outerWidth())}),t}this.init=function(){var r=this,h=this.options,u=o()(this.root),d=u.children(".btn").not(".toggle"),c=u.children(".toggle"),p=u.children(".btn"),f=u.children("ul");f.insertAfter(d),h.width>0&&(d.outerWidth(h.width-c.outerWidth()+1),d.css({"overflow-x":"hidden","overflow-y":"hidden","white-space":"nowrap"})),h.height>0&&f.css({"overflow-x":"hidden","overflow-y":"auto","max-height":h.height}),this.addEvent(p,"click",function(i){if(t.isTouch)u.select.focus();else{if("open"==r.type)return;e(),r.open(i)}return!1}),this.addEvent(f,"click","li:not(.divider)",function(t){e();var i=a(this),s=o()(i).attr("value"),l=o()(i).text();n={value:s,text:l,element:i},d.html(l),u.attr("value",s),r.emit("click",[n,t]),r.emit("change",[n,t]),t.preventDefault()}),i={root:u,text:d,drop:f,toggle:c},this.type="fold",this.reload(),function(t){t.options.keydown&&(s=t.options.index,l(t),t.addEvent(window,"keydown",function(e){if("fold"!=t.type){var n=i.drop.children("li");return 38==e.which?(s<1?s=n.length-1:s--,l(t,function(){s--,l(t)}),!1):40==e.which?(s<n.length-1?s++:s=0,l(t,function(){s++,l(t)}),!1):void(13==e.which&&n.eq(s).trigger("click"))}}))}(this)},this.setIndex=function(t){r("index",t),this.emit("change",[n])},this.setValue=function(t){r("value",t),this.emit("change",[n])},this.getData=function(){return n},this.getValue=function(){return null!=n?n.value:null},this.getText=function(){return null!=n?n.text:null},this.open=function(t){if(i.toggle.addClass("active"),i.drop.outerWidth(i.root.outerWidth()-1),"top"==this.options.position){var e=i.drop.outerHeight();i.drop.animate({top:"-"+e,height:"toggle"},100)}else i.drop.slideDown(100);this.options.flex&&(h()>i.drop.outerWidth()&&i.drop.outerWidth(h()+50));this.emit("open",t),this.type="open"},this.fold=function(){i.drop.hide(),i.toggle.removeClass("active"),"top"==this.options.position&&i.drop.css("top",0),this.emit("fold"),this.type="fold"},this.reload=function(){""!=this.options.value?r("value",this.options.value):r("index",this.options.index),function(e){if(t.isTouch){var n=i.root;if(n.select&&n.select[0])(s=n.select).empty();else{var s=o()("<select></select>").css({position:"absolute",opacity:.01});n.find("ul").after(s),e.addEvent(s,"change",function(t){var i=o()(t.currentTarget).find("option:selected").data("elem");e.addTrigger(i,"touchstart")}),n.select=s}n.find("ul > li").each(function(t,e){var i=o()(e).data("value"),n=o()(e).text();s.append(o()("<option></option>").val(i).text(n).data("elem",e))})}}(this),this.emit("reload",n)}};return i.setup=function(){return{index:0,value:"",width:0,height:100,keydown:!1,position:"bottom",flex:!0}},i}},v={name:"ui.datepicker",extend:"event",component:function(){var t=l.include("util.base");function e(t){return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t}var i=function(){var i=null,n=null,s=null,r={},a=null,l=null,h=null,u=null;function d(t,a){var h=t.options,u=[],d=[];if(r={},t.tpl.date)for(var c=0;c<a.objs.length;c++)d.push(t.tpl.date({type:a.objs[c].type,date:a.objs[c].no,day:d.length})),f(c)&&(u.push("<tr>"+d.join("")+"</tr>"),d=[]);else for(c=0;c<a.objs.length;c++)d.push(a.nums[c]),f(c)&&(u.push(t.tpl.dates({dates:d})),d=[]);var p=o()(u.join(""));function f(t){return"daily"==h.type?(t+1)%7==0:(t+1)%3==0}return p.find("td").each(function(h){o()(this).addClass(a.objs[h].type),t.addEvent(this,"click",function(r){"none"!=a.objs[h].type&&(l.find("td").removeClass("active"),o()(this).addClass("active"),function(t,o){var r=t.options;if("daily"==r.type){var a=n<10?"0"+n:n;s=new Date(i+"/"+a+"/"+(o<10?"0"+o:o))}else"monthly"==r.type?(a=o<10?"0"+o:o,s=new Date(i+"/"+a+"/01")):"yearly"==r.type&&(s=new Date(o+"/01/01"));s=e(s)}(t,a.objs[h].no),t.emit("select",[t.getFormat(),r]))}),"none"!=a.objs[h].type&&(r[a.objs[h].no]=this)}),p}function c(t,e){if(2==e)return t%100==0||t%4!=0&&t%400!=0?28:29;return[31,0,31,30,31,30,31,31,30,31,30,31][e-1]}this.init=function(){var e=this.options;a=o()(this.root).children(".head"),l=o()(this.root).children(".body"),h=t.typeCheck("date",e.minDate)?e.minDate:null,u=t.typeCheck("date",e.maxDate)?e.maxDate:null,"daily"==e.type&&(e.date<h?e.date=h:e.date<h&&(e.date=u),h&&u&&u<h&&(h=null,u=null)),function(t){t.addEvent(a.children(".prev"),"click",function(e){t.prev(e)}),t.addEvent(a.children(".next"),"click",function(e){t.next(e)}),t.addEvent(a.children(".prev-year"),"click",function(e){t.prev(e,!0)}),t.addEvent(a.children(".next-year"),"click",function(e){t.next(e,!0)})}(this),this.select(e.date)},this.page=function(o,r){if(0!=arguments.length){var p=this.options;"daily"==p.type?(i=o,n=r,l.find("tr:not(:first-child)").remove(),l.append(d(this,function(t,e,i){var n=[],o=[],r=1,a=new Date,l=new Date(e+"-"+(i<10?"0"+i:i)).getDay(),d=c(e,i),p=0,f=c(1==i?e-1:e,1==i?12:i-1);h&&h.getFullYear()==e&&h.getMonth()+1==i&&(p=h.getDate()),u&&u.getFullYear()==e&&u.getMonth()+1==i&&(d=u.getDate());for(var v=0;v<l;v++)o[v]=f-l+(v+1),n[v]={type:"none",no:o[v]};for(v=l;v<42;v++)if(p<=r&&r<=d){var m="";a.getMonth()+1==i&&a.getDate()==r&&(m="now"),null!=s&&s.getFullYear()==e&&s.getMonth()+1==i&&s.getDate()==r&&(m="active"),o[v]=r,n[v]={type:m,no:o[v]},r++}else o[v]=r-d,n[v]={type:"none",no:o[v]},r++;return{objs:n,nums:o}}(0,i,n)))):"monthly"==p.type?(i=o,l.find("tr").remove(),l.append(d(this,function(t){for(var e=[],i=[],n=new Date,o=1;o<=12;o++){var r="";n.getFullYear()==t&&n.getMonth()+1==o&&(r="now"),null!=s&&s.getFullYear()==t&&s.getMonth()+1==o&&(r="active"),i.push(o),e.push({type:r,no:o})}return{objs:e,nums:i}}(i)))):"yearly"==p.type&&(i=o,l.find("tr").remove(),l.append(d(this,function(t){for(var e=[],i=[],n=t-4,o=new Date,r=n;r<n+12;r++){var a="";o.getFullYear()==r&&(a="now"),null!=s&&s.getFullYear()==r&&(a="active"),i.push(r),e.push({type:a,no:r})}return{objs:e,nums:i}}(i)))),a.children(".title").html(t.dateFormat(function(t){var o=t.options,s=null;return"daily"==o.type?s=new Date(i+"/"+(n<10?"0"+n:n)+"/01"):"monthly"==o.type?s=new Date(i+"/01/01"):"yearly"==o.type&&(s=new Date),e(s)}(this),p.titleFormat))}},this.prev=function(t,e){var o=this.options;if("daily"==o.type){if(e)var s=i-1,r=n;else s=1==n?i-1:i,r=1==n?12:n-1;if(h&&h.getFullYear()==i&&h.getMonth()+1==n)return;this.page(s,r)}else"monthly"==o.type?this.page(i-1):"yearly"==o.type&&this.page(i-12);this.emit("prev",[t])},this.next=function(t,e){var o=this.options;if("daily"==o.type){if(e)var s=i+1,r=n;else s=12==n?i+1:i,r=12==n?1:n+1;if(u&&u.getFullYear()==i&&u.getMonth()+1==n)return;this.page(s,r)}else"monthly"==o.type?this.page(i+1):"yearly"==o.type&&this.page(i+12);this.emit("next",[t])},this.select=function(){var e=this.options,o=arguments,s=i,a=n,l=null;if(3==o.length)s=o[0],a=o[1],l=o[2];else if(1==o.length){var d=t.typeCheck("date",o[0])?o[0]:new Date(o[0]);s=d.getFullYear(),a=d.getMonth()+1,l=d.getDate()}if("daily"==e.type){if(h||u){var c=function(t,e,i){if(h){var n=h.getFullYear(),o=h.getMonth()+1,s=h.getDate();if(t<n||t==n&&e<o)return[n,o,s]}if(u){var r=u.getFullYear(),a=u.getMonth()+1,l=u.getDate();if(t>r||t==r&&e>a)return[r,a,l]}return[t,e,i]}(s,a,l);this.page(c[0],c[1]),this.addTrigger(r[c[2]],"click")}this.page(s,a),this.addTrigger(r[l],"click")}else"monthly"==e.type?(this.page(s),this.addTrigger(r[a],"click")):"yearly"==e.type&&(this.page(s),this.addTrigger(r[s],"click"))},this.addTime=function(t){s=new Date(this.getTime()+t),this.select(this.getTime())},this.getDate=function(){return s},this.getTime=function(){return s.getTime()},this.getFormat=function(e){return t.dateFormat(s,"string"==typeof e?e:this.options.format)},this.reload=function(){var e=this.options;h=t.typeCheck("date",e.minDate)?e.minDate:null,u=t.typeCheck("date",e.maxDate)?e.maxDate:null,"daily"==e.type&&(h&&e.date<h?e.date=h:u&&e.date>u&&(e.date=u)),this.select(),this.emit("reload")}};return i.setup=function(){return{type:"daily",titleFormat:"yyyy.MM",format:"yyyy-MM-dd",date:e(new Date),animate:!1,minDate:null,maxDate:null}},i}},m={name:"ui.layout",extend:"event",component:function(){l.include("util.base");var t=function(){var t=null,e={},i=["top","left","right","bottom","center"],n={top:"n-resize",bottom:"n-resize",right:"e-resize",left:"e-resize"};function s(t,e,i,n){t.mousedown(function(s){t.data("mousedown",!0);var r=t.clone();t.data("shadow",r),t.after(r),i.call(this,s),r.css("opacity",.3),o()(document).on("mousemove",e),o()(document).on("mouseup",function i(s){o()(document).off("mousemove",e),o()(document).off("mouseup",i),n.call(this,s),t.data("mousedown",!1),r.remove(),o()("body :not(.resize)").css({"user-select":""})}),o()("body :not(.resize)").css({"user-select":"none"})})}function r(i){var o,r;o=t[i],(r=o.resizer).css({cursor:n[i]}),r.data("event")||("top"==i?s(r,function(t){if(r.data("mousedown")){var i=t.clientY-r.data("current"),n=e.top.min,o=e.top.max;n<=i&&i<o&&r.css({top:i+"px"})}},function(t){var e=r.position().top;r.data("current",t.clientY-e)},function(e){var i=r.position().top,n=(r.height(),i),o=i+r.height()+"px",s=t.top.height();t.top.height(n);var a=s-n,l=t.center.height()+a;t.center.css({top:o}).height(l),t.left.css({top:o}).height(l),t.left.resizer.css({top:o}).height(l),t.right.css({top:o}).height(l),t.right.resizer.css({top:o}).height(l)}):"bottom"==i?s(r,function(t){if(r.data("mousedown")){var i=t.clientY-r.data("current"),n=e.bottom.min,s=e.bottom.max,a=o.position().top-(i+e.barSize)+o.height();n<=a&&a<=s&&r.css({top:i+"px"})}},function(t){var e=r.position().top;r.data("current",t.clientY-e)},function(e){var i=r.position().top+r.height(),n=(t.root.height(),parseFloat(t.bottom.position().top)-i);t.bottom.css({top:i+"px"}),t.bottom.height(t.bottom.height()+n);var o=t.center.height()-n;t.center.height(o),t.left.height(o),t.left.resizer.height(o),t.right.height(o),t.right.resizer.height(o)}):"left"==i?s(r,function(t){if(r.data("mousedown")){var i=t.clientX-r.data("current"),n=e.left.min,o=e.left.max;n<=i&&i<o&&r.css({left:i+"px"})}},function(t){var e=r.position().left;r.data("left",e).data("current",t.clientX-e)},function(i){if(r.data("mousedown")){var n=r.position().left,o=r.data("left")-n;t.left.css({width:n+"px"}),t.center.css({left:n+e.barSize+"px"}),t.center.width(t.center.width()+o)}}):"right"==i&&s(r,function(i){if(r.data("mousedown")){var n=i.clientX-r.data("current"),s=e.right.min,a=e.right.max,l=t.left.width()+t.left.resizer.width(),h=t.center.width(),u=o.width()-(n-(l+h));s<=u&&u<a&&r.css({left:n+"px"})}},function(t){var e=r.position().left;r.data("left",e).data("current",t.clientX-e)},function(e){if(r.data("mousedown")){var i=r.position().left,n=r.data("left")-i;t.right.css({left:i+r.width()+"px",width:t.right.width()+n+"px"}),t.center.width(t.center.width()-n)}}),r.data("event",!0))}this.init=function(){var n,s,a,l,h,u,d=this,c=this.options;return n=o()(this.root).css("position","relative"),null!=c.width&&n.outerWidth(c.width),null!=c.height&&n.outerHeight(c.height),0==(s=c.top.el?o()(c.top.el):n.find("> .top")).length&&(s=null),0==(a=c.left.el?o()(c.left.el):n.find("> .left")).length&&(a=null),0==(l=c.right.el?o()(c.right.el):n.find("> .right")).length&&(l=null),0==(h=c.bottom.el?o()(c.bottom.el):n.find("> .bottom")).length&&(h=null),0==(u=c.center.el?o()(c.center.el):n.find("> .center")).length&&(u=null),t={root:n,top:s,left:a,right:l,bottom:h,center:u},e=c,function(n){for(var s=0,a=i.length;s<a;s++){var l=t[i[s]];l&&(t.root.append(l),"center"!=i[s]&&e[i[s]].resize&&(l.resizer||(l.resizer=o()("<div class='resize "+i[s]+"' />")),t.root.append(l.resizer),r(i[s])))}n.resize()}(this),o()(window).on("resize",function(t){d.resize()}),this},this.resize=function(){var e=null,i=null,n=0,o=0;e=t.top,i=this.options.top,e&&(e.css({position:"absolute",top:"0px",left:"0px",width:"100%",height:i.size||i.min}),n=e.height(),i.resize?(e.resizer.css({position:"absolute",top:n,left:"0px",width:"100%",background:this.options.barColor,height:this.options.barSize}),n+=this.options.barSize):e.resizer&&e.resizer.remove()),e=t.bottom,i=this.options.bottom;var s=t.root.height();if(e){e.css({position:"absolute",left:"0px",width:"100%",height:i.size||i.min});var r=n-e.height()+n;i.resize?(e.resizer.css({position:"absolute",top:r,left:"0px",width:"100%",background:this.options.barColor,height:this.options.barSize}),r+=this.options.barSize):e.resizer&&e.resizer.remove(),e.css("top",r+"px")}e=t.left,i=this.options.left;var a=s;t.top&&(a-=t.top.height(),t.top.resizer&&(a-=t.top.resizer.height())),t.bottom&&(a-=t.bottom.height(),t.bottom.resizer&&(a-=t.bottom.resizer.height())),e&&(e.css({position:"absolute",top:n,left:"0px",height:a,width:i.size||i.min,"max-width":"100%",overflow:"auto"}),o=e.width(),i.resize?(e.resizer.css({position:"absolute",top:n,height:e.height(),left:o,background:this.options.barColor,width:this.options.barSize}),o+=this.options.barSize):e.resizer&&e.resizer.remove()),e=t.right,i=this.options.right;var l=t.root.width();t.left&&(l-=t.left.width(),t.left.resizer&&(l-=t.left.resizer.width())),e&&(e.css({position:"absolute",top:n,height:a,width:i.size||i.min,"max-width":"100%"}),i.resize?(e.resizer.css({position:"absolute",top:n,height:e.height(),background:this.options.barColor,width:this.options.barSize}),this.options.barSize):e.resizer&&e.resizer.remove(),l-=t.right.width(),t.right.resizer&&(l-=t.right.resizer.width()),e.resizer.css({left:o+l+"px"}),e.css({left:o+l+e.resizer.width()+"px"})),e=t.center,i=this.options.center,e&&e.css({position:"absolute",top:n,height:a,left:o,width:l,overflow:"auto"})}};return t.setup=function(){return{barColor:"#d6d6d6",barSize:3,width:null,height:null,top:{el:null,size:null,min:50,max:200,resize:!0},left:{el:null,size:null,min:50,max:200,resize:!0},right:{el:null,size:null,min:50,max:200,resize:!0},bottom:{el:null,size:null,min:50,max:200,resize:!0},center:{el:null}}},t}},g={name:"ui.modal",extend:"event",component:function(){var t=0,e=0;l.include("util.base").resize(function(){if(t!=o()(window).width()||e!=o()(window).height()){for(var i=l.get("ui.modal"),n=0;n<i.length;n++)for(var s=i[n],r=0;r<s.length;r++)"show"==s[r].type&&s[r].resize();t=o()(window).width(),e=o()(window).height()}},300);var i=function(){var t={},e=null,i=null,n=null,s=5e3;function r(t){var e,i=t.options.target,n="body"==i?window:i,s="body"==i?"fixed":"absolute",r=function(t){return"body"==t?null:o()(t).hasClass("msgbox")||o()(t).hasClass("window")?"absolute":"relative"}(i),a=o()(i).scrollLeft(),l=o()(n).width()/2-o()(t.root).width()/2+o()(i).scrollLeft(),h=o()(n).height()/2-o()(t.root).height()/2,u=a>0?o()(i).outerWidth()+a:"100%",d=o()(i).outerHeight();null!=r?(d=(e=o()(n)[0].scrollHeight)>d?e:d,h+=o()(n).scrollTop()):d=d>(e=o()(window).outerHeight())?d:e;return{x:l,y:h,pos:s,tPos:r,w:u,h:d}}this.init=function(){!function(t){i={position:o()(t.root).css("position"),left:o()(t.root).css("left"),top:o()(t.root).css("top"),"z-index":o()(t.root).css("z-index"),display:o()(t.root).css("display")},n={position:o()(t.options.target).css("position")}}(this),this.options.clone||o()(this.root).hide(),this.type="hide"},this.hide=function(){var s=this.options,r=this.timestamp;s.clone&&(e.remove(),e=null),o()(s.target).css("position",n.position),o()(this.root).css(i),t[r]&&(t[r].remove(),delete t[r]),this.type="hide"},this.show=function(){var i=this.options,n=r(this);i.clone&&(e=o()(this.root).clone()).insertAfter(o()(this.root)),o()(this.root).appendTo(i.target),this.resize(),o()(i.target).css("position",n.tPos),o()(this.root).show(),function(e,i,n){var r=e.options,a=e.timestamp,l=null!=r.parent?r.parent:r.target;null==t[a]&&(t[a]=o()("<div id='MODAL_"+e.timestamp+"'></div>").css({position:"absolute",width:i,height:n,left:0,top:0,opacity:e.options.opacity,"background-color":e.options.color,"z-index":s+e.options.index-1}),o()(l).append(t[a]),o()(e.root).insertAfter(t[a]),e.addEvent(t[a],"click",function(t){return e.options.autoHide&&e.hide(),!1}))}(this,n.w,n.h),this.type="show"},this.resize=function(){var e=r(this),i=this.timestamp;o()(this.root).css({position:e.pos,left:e.x,top:e.y,"z-index":s+this.options.index}),null!=t[i]&&t[i].height(e.h)}};return i.setup=function(){return{color:"black",opacity:.4,target:"body",parent:null,index:0,clone:!1,autoHide:!0}},i}},y={name:"ui.notify",extend:"event",component:function(){l.include("util.base");var t=function(){var t=null,e=null;this.init=function(){var i=this.options,n="object"==typeof i.padding?12:i.padding;return e={top:{top:n,bottom:"auto",left:n,right:n},"top-right":{top:n,bottom:"auto",left:"auto",right:n},"top-left":{top:n,bottom:"auto",left:n,right:"auto"},bottom:{top:"auto",bottom:n,left:n,right:n},"bottom-right":{top:"auto",bottom:n,left:"auto",right:n},"bottom-left":{top:"auto",bottom:n,left:n,right:n}}[i.position],"object"==typeof i.padding&&(e=o.a.extend(e,i.padding)),"body"!=this.selector&&o()(this.selector).css("position","relative"),t=o()("<div></div>").css(o.a.extend({position:"absolute","z-index":3e3},e)),o()(this.root).append(t),this},this.add=function(i,n){var s=this,r=this.options,a=isNaN(n)?r.timeout:n,l=o()(this.root).scrollTop(),h=o()(this.tpl.item(i)).css({"margin-bottom":r.distance});"top"!=r.position&&"bottom"!=r.position||h.outerWidth(t.width()-3*("object"==typeof r.padding&&r.padding.right?r.padding.right:12)),-1!=r.position.indexOf("top-")?(t.css("top",l+e.top),t.prepend(h)):(t.css("bottom",-(l-e.bottom)),t.append(h));var u=h.css("opacity");function d(){null!=h&&(h.animate({opacity:0},r.hideDuration,r.hideEasing),h.slideUp(r.hideEasing,function(){s.emit("hide",[i]),h.remove(),h=null}))}h.css({opacity:0}).animate({opacity:u},r.showDuration,r.showEasing,function(){s.emit("show",[i])}),this.addEvent(h,"click",function(t){return s.emit("select",[i,t]),d(),!1}),a>0&&setTimeout(d,a)},this.reset=function(){t.empty()}};return t.setup=function(){return{position:"top-right",padding:12,distance:5,timeout:3e3,showDuration:500,hideDuration:500,showEasing:"swing",hideEasing:"linear"}},t}},x={name:"ui.numberchecker",extend:"event",component:function(){l.include("util.base");var t=function(){function t(t,e){return!!(e?/^[-]?\d+$/:/^[-]?\d+(?:[.]\d+)?$/).test(t)}function e(t,e,i,n){t=n?parseInt(t):parseFloat(t);return{min:e=n?parseInt(e):parseFloat(e),max:i=n?parseInt(i):parseFloat(i),value:t}}this.init=function(){var i=this.root,n=this.options.integer,s=this.options.empty,r=this.options.message,a=function(t){var e=o()(t.root),i=t.options,n=(i.integer,e.attr("min")||""),s=e.attr("max")||"",r=e.val()||"";return{min:null!=i.min?i.min:n,max:null!=i.max?i.max:s,value:r}}(this);return t(a.value,n)?o()(i).val(a.value):o()(i).addClass("invalid").val("").attr("placeholder",r),n||o()(i).attr("step","any"),o()(i).attr("min",a.min),o()(i).attr("max",a.max),o()(i).on("input",function(s){var r=o()(i).val();if(t(r,n)){var l=e(r,a.min,a.max,n);""!==a.min&&""!==a.max&&r>=l.min&&r<=l.max&&(a.value=l.value),""!==a.min&&""===a.max&&r>=l.min&&(a.value=l.value),""===a.min&&""!==a.max&&r<=l.max&&(a.value=l.value)}}),o()(i).on("focus",function(t){o()(i).removeClass("invalid").attr("placeholder","")}),o()(i).on("focusout",function(l){var h=o()(i).val();if(t(h,n)){var u=e(h,a.min,a.max,n);""!==a.min&&u.value<u.min?o()(i).val(u.min):""!==a.max&&u.value>u.max?o()(i).val(u.max):o()(i).val(u.value)}else null!=s?o()(i).val(a[s]):o()(i).addClass("invalid").val("").attr("placeholder",r)}),this}};return t.setup=function(){return{integer:!0,empty:null,min:null,max:null,message:"Invalid number"}},t}},w={name:"ui.paging",extend:"event",component:function(){var t=function(){var t=1,e=1,i=null;function n(n,s){var r=[],a=e<n.options.screenCount?e:n.options.screenCount,l=(l=s-Math.ceil(a/2)+1)<1?1:l;if(t=s>e?e:s,t=s<1?1:s,e<l+a){for(var h=e-a+1;h<e+1;h++)r.push(h);t>e&&(t=e)}else for(h=l;h<l+a;h++)r.push(h);i.html(n.tpl.pages({pages:r,lastPage:e})),function(t){t.addEvent(o()(t.root).find(".prev"),"click",function(e){return t.prev(),!1}),t.addEvent(o()(t.root).find(".next"),"click",function(e){return t.next(),!1})}(n),function(t){t.addEvent(i.find(".page"),"click",function(e){var i=parseInt(o()(e.currentTarget).text());return t.page(i),!1})}(n),function(t,e){i.find(".page").each(function(t){o()(this).text()==e?o()(this).addClass("active"):o()(this).removeClass("active")})}(0,t)}this.init=function(){this.options;return i=0==(i=o()(this.root).find(".list")).length?o()(this.root):i,this.reload(),this},this.reload=function(i){i=i||this.options.count;t=1,e=Math.ceil(i/this.options.pageCount),n(this,t),this.emit("reload")},this.page=function(e){if(!e)return t;n(this,e),this.emit("page",[t])},this.next=function(){this.page(t+1)},this.prev=function(){this.page(t-1)},this.first=function(){this.page(1)},this.last=function(){this.page(e)}};return t.setup=function(){return{count:0,pageCount:10,screenCount:5}},t}},b={name:"ui.progress",extend:"event",component:function(){l.include("util.base");var t=function(){var t,e,i,n;function s(){return t.options.min}function r(){return t.options.max}function a(){return t.options.orient}function l(){e.addClass(a()).addClass(t.options.type),i=e.find(".area"),n=e.find(".bar"),0==i.length&&(i=o()("<div class='area' />"),e.html(i)),0==n.length&&(n=o()("<div class='bar' />"),i.html(n)),t.setValue(),t.setStriped(),t.setAnimated()}this.init=function(){t=this,e=o()(this.root),l()},this.setAnimated=function(e){void 0===e?n.toggleClass("animated",t.options.animated):n.toggleClass("animated",e)},this.setStriped=function(e){void 0===e?n.toggleClass("striped",t.options.striped):n.toggleClass("striped",e)},this.setValue=function(e){!function(t){"vertical"==a()?n.height(t+"%"):n.width(t+"%")}(((e=void 0===e?t.options.value:e)-s())/(r()-s())*100)},this.getValue=function(){return s()+(r()-s())*(parseFloat(("vertical"==a()?n.css("height"):n.css("width")).replace("%",""))/100)}};return t.setup=function(){return{type:"",orient:"horizontal",min:0,max:100,value:0,striped:!1,animated:!1}},t}},C={name:"ui.property",extend:"event",component:function(){var t=l.include("util.base"),e=function(){var e,i,n,s=[],r={};function a(t){for(var e=0,i=s.length;e<i;e++)t.call(n,s[e],e)}function h(t,e,i){var n;return function(){var o=arguments;clearTimeout(n),n=setTimeout(function(){n=null,t.apply(i,o)},e)}}this.init=function(){n=this,e=o()(this.root),i=o()("<div class='property-table' />").css({position:"relative"}),e.append(i),this.loadItems(this.options.items)},this.loadItems=function(e){s=t.clone(e),this.initProperty(),this.emit("load.items")},this.initProperty=function(){i.empty(),a(function(t,e){i.append(this.renderItem(t,e))})},this.addItem=function(e){t.typeCheck("array",e)||(e=[e]),s=s.concat(e),this.initProperty()},this.removeItem=function(t){for(var e=[],i=0,n=s.length;i<n;i++){var o=s[i];o.key!=t.key&&o.title!=t.title||e.push(o)}s=e},this.getGroupList=function(){var t=[];return i.find(".property-header-item").each(function(){var e=o()(this).data("item");t.push({name:e.title,id:o()(this).attr("id")})}),t},this.collapsed=function(t){var i=e.find("#"+t);i.addClass("collapsed").removeClass("expanded"),i.find(".expand-btn i").removeClass("icon-minus").addClass("icon-plus");for(var n=i.next();n.length&&!n.hasClass("property-header-item");)n.hide(),n=n.next()},this.expanded=function(t){var i=e.find("#"+t);i.removeClass("collapsed").addClass("expanded"),i.find(".expand-btn i").removeClass("icon-plus").addClass("icon-minus");for(var n=i.next();n.length&&!n.hasClass("property-header-item");)n.show(),n=n.next()},this.renderItem=function(e,i){var s=o()("<div class='property-item' />").attr("data-index",i);if("group"==e.type){s.addClass("property-header-item expanded"),s.attr("id","property-header-item-"+i),s.data("item",e);var r=o()("<div class='property-header' />").html(e.title);e.description&&r.append("<small class='description'>"+e.description+"</small>"),r.append("<a class='expand-btn'><i class='icon-minus' ></i></a>"),s.on("click",function(t){o()(this).hasClass("collapsed")?n.expanded(s.attr("id")):(n.collapsed(s.attr("id")),o.a)}),s.append(r)}else{(t.typeCheck("array",e.value)||e.vertical)&&s.addClass("vertical"),s.attr("data-key",e.key);r=o()("<div class='property-title'  />").html(e.title);var a=o()("<div class='property-render'  />"),l=this.render(s,e);a.append(o()("<div class='item' />").html(l)),e.description&&a.append("<div class='description' >"+e.description+"</div>"),s.append(r),s.append(a)}return s},this.render=function(t,e){var i=e.type||"text";return(e.render||r[i]||r.defaultRenderer)(t,e)},this.getValue=function(t){return t?this.getItem(t).value:this.getAllValue()},this.getDefaultValue=function(){for(var t={},e=0,i=this.options.items;e<i;e++){var n=this.options.items[e];void 0!==n.value&&(t[n.key]=n.value)}return t},this.initValue=function(t){a(function(t,e){t.value=""}),this.initProperty(),t&&this.setValue(t)},this.setValue=function(t){if(t=t||{},Object.keys(t).length)for(var e in t)this.updateValue(e,t[e])},this.findRender=function(t){return this.findItem(t).find(".property-render .item")},this.findItem=function(t){return i.find("[data-key='"+t+"']")},this.getItem=function(e){return t.typeCheck("number",e)?s[e]:t.typeCheck("string",e)?s[parseInt(this.findItem(e).attr("data-index"))]:s[parseInt(e.attr("data-index"))]},this.updateValue=function(t,e){var i=this.findItem(t),n=this.getItem(t);if(n){n.value=e;var o=this.findRender(t);o.empty(),o.html(this.render(i,n))}},this.getAllValue=function(t){var e={};return a(function(t,i){"group"!==t.type&&(e[t.key]=t.value)}),e},this.refreshValue=function(t,e){var i=this.getItem(t),n=i.value;i.value=e,this.emit("change",[i,e,n])},r.str2array=function(t,e){return e=e||",","string"==typeof t?t.split(e):t},r.defaultRenderer=function(t,e){return r.text(t,e)},r.select=function(e,i){for(var s=o()("<select />").css({"max-width":"100%"}),a=i.items||[],l=0,u=a.length;l<u;l++){var d=a[l];"string"==typeof d&&(d={text:d,value:d}),s.append(o()("<option >").val(d.value).text(d.text))}return s.val(i.value),s.on("change",h(function(){var e=o()(this).val();e=t.typeCheck("array",i.value)?r.str2array(e):e,n.refreshValue(o()(this).closest(".property-item"),e)},250,s)),s},r.text=function(e,i){var s=o()("<input type='text' />").css({width:"100%"}).attr({placeholder:"Type here"});return i.readonly&&$input.attr("readonly",!0),s.val(i.value),s.on("input",h(function(){var s=o()(this).val();s=t.typeCheck("array",i.value)?r.str2array(s):s,n.refreshValue(e,s)},250,s)),o()([s[0]])},r.textarea=function(e,i){var s=o()("<textarea />").css({width:"100%",height:i.height||100}).attr({placeholder:"Type here"});return i.readonly&&s.attr("readonly",!0),s.val(i.value),s.on("input",h(function(){var e=o()(this).val();e=t.typeCheck("array",i.value)?r.str2array(e):e,n.refreshValue(o()(this).closest(".property-item"),e)},250,s)),s},r.html=function(t,e){var i=o()("<div class='html' contenteditable=true />").css({width:"100%",height:e.height||100});return e.readonly&&i.attr("contenteditable",!1),i.html(e.value),i.on("input",h(function(){var t=o()(this).html();n.refreshValue(o()(this).closest(".property-item"),t)},250,i)),i},r.number=function(t,e){var i=o()("<input type='number' />").css({"text-align":"center"});return i.attr("max",e.max||100),i.attr("min",e.min||0),i.attr("step",e.step||1),i.val(e.value),i.on("input",h(function(){n.refreshValue(o()(this).closest(".property-item"),+o()(this)[0].value)},250,i)),i},r.range=function(t,e){var i=o()("<div />").css({position:"relative"}),s=o()("<input type='range' />").css({width:"100px","z-index":1}),r=e.value,a=e.postfix||"";e.postfix&&(r=r.replace(a,"")),s.attr("max",e.max||100),s.attr("min",e.min||0),s.attr("step",e.step||1),s.val(+r),e.readonly&&s.attr("readonly",!0);var l=o()("<div class='range-progress' />");l.width(r/(+s.attr("max")-+s.attr("min"))*s.width());var u=o()("<span />");return u.text(r+a),s.on("input",function(){var t=o()(this),e=+t[0].value,i=e/(+t.attr("max")-+t.attr("min"))*o()(this).width();l.width(i),u.text(e+a)}),s.on("input",h(function(){var t=o()(this),e=+t[0].value;n.refreshValue(t.closest(".property-item"),e+a)},250,s)),i.append([s,l,u]),i},r.checkbox=function(t,e){var i=o()("<input type='checkbox' /><i ></i>");return o()(i[0]).hide(),i[0].checked="true"==e.value||!0===e.value,i[0].checked?o()(i[1]).addClass("icon-checkbox"):o()(i[1]).addClass("icon-checkbox2"),i.on("click",h(function(){var e=o()(this).hasClass("icon-checkbox");e?o()(this).addClass("icon-checkbox2").removeClass("icon-checkbox"):o()(this).addClass("icon-checkbox").removeClass("icon-checkbox2"),e=!e,n.refreshValue(t,e)},100,i)),i},r.switch=function(t,e){var i=o()("<div class='switch inner small' />"),s="true"==e.value||!0===e.value;return l.create("ui.switch",i,{checked:s,event:{change:function(e){n.refreshValue(t,e)}}}),i},r.property=function(t,e){var i=o()("<div class='property inner' />");return l.create("ui.property",i,{items:e.items,event:{change:function(){n.refreshValue(t,this.getValue())}}}).setValue(e.value),i},r.date=function(t,e){var s=i,r=o()("<div class='datepicker-input' />"),a=o()("<span class='datepicker-value-text'></span>").css({cursor:"pointer"});r.on("click",function(){var t=r.offset(),e=s.offset(),i=s.outerWidth(),n=s.outerHeight(),o=t.left-e.left;o+r.outerWidth()>=i&&(o=i-r.outerWidth()-20);var a=t.top-e.top+80;a+r.outerHeight()>=n&&(a=n-r.outerHeight()-20),u.css({position:"absolute","z-index":1e5,left:o,top:a}),u.show()});var h=o()("<i class='icon-calendar' />");r.html(h),r.append(a);var u=o()("<div class='datepicker' />").css({position:"absolute",top:"0px",display:"none"}),d=o()("<div class='head' />"),c=o()("<table class='body' />");d.html('<div class="prev"><i class="icon-chevron-left"></i></div><div class="title"></div><div class="next"><i class="icon-chevron-right"></i></div>'),c.html("<tr><th>SU</th><th>MO</th><th>TU</th><th>WE</th><th>TH</th><th>FR</th><th>SA</th></tr>"),u.append(d),u.append(c),s.after(u);var p=l.create("ui.datepicker",u,{date:e.value||+new Date,titleFormat:e.titleFormat||"yyyy. MM",format:e.format||"yyyy/MM/dd",tpl:{date:e.tpl_date||"<td><!= date !></td>"},event:{select:function(e,i){a.html(e),n.refreshValue(t,e)}}});return o()("body").on("click",function(t){var e=o()(t.target).closest(".datepicker"),i=o()(t.target).closest(r);e.length||i.length||u.hide()}),a.html(p.getDate()),r},r.colors=function(t,e){for(var i=[],n=0,s=e.value.length;n<s;n++){var a=r.color(t,e,n);i.push(a[0])}return o()(i)},r.color=function(t,e,s){s=void 0===s?-1:s;var r=o()("<a  class='color-input' />"),a=i,u=-1==s?e.value:e.value[s],d=o()("<span />").css({"background-color":u}).html("&nbsp;"),c=o()("<span />").html(u||""),p=o()("<span class='none-color' title='Delete a color'/>").html("<i class='icon-more'></i>");return r.append(d),r.append(c),r.append(p),r.on("click",function(t){if(o()(t.target).closest(".none-color").length)return t.preventDefault(),d.css("background-color",""),c.text(""),void n.refreshValue(r.closest(".property-item"),"");var i=o()(this).offset(),p=a.next(".colorpicker");if(p.length)p[0].jui.setColor(u||"");else{p=o()('<div class="colorpicker" />'),a.after(p);var f=l.create("ui.colorpicker",p,{color:u,event:{change:h(function(){var t=f.getColor("hex");if(!(t.indexOf("NAN")>-1))if(d.css("background-color",t),c.html(t),-1==s)n.refreshValue(r.closest(".property-item"),t);else{var i=e.value;i[s]=t,n.refreshValue(r.closest(".property-item"),i)}},100,f)}});o()("body").on("click",function(t){var e=o()(t.target).closest(".colorpicker"),i=o()(t.target).closest(r);e.length||i.length||(!function(t){var e=l.getAll(),i=0;for(len=e.length;i<len&&e[i][0]!=t;i++);l.remove(i)}(f),p.remove())})}var v=a.offset(),m=a.outerWidth(),g=a.outerHeight(),y=i.left-v.left;y+p.outerWidth()>=m&&(y=m-p.outerWidth()-20);var x=i.top-v.top+50;x+p.outerHeight()>=g&&(x=g-p.outerHeight()-20),p.css({position:"absolute","z-index":1e5,left:y,top:x}),p.show()}),r}};return e.setup=function(){return{sort:"group",viewport:"default",items:[]}},e}},k={name:"ui.select",extend:"event",component:function(){var t=l.include("util.base"),e=function(){var e,i,n,s,r=[],a={divider:function(t,e){return o()("<hr class='item divider' />")},item:function(t,e){var i=o()('<div class="item option " />');i.attr("data-index",e),i.attr("value",t.value);var n=t.text?"text":"html";return"function"==typeof t[n]?i[n].call(i,t[n].call(t,this)):(i.text(t.text),i[n].call(i,t[n])),t.selected&&i.addClass("selected"),i}};this.init=function(){e=this,i=o()(this.root),r=t.clone(this.options.items),i.hasClass("select")||i.addClass("select"),this.initSelect(),this.initEvent(),this.update(r)},this.initEvent=function(){i.on("click",".title",function(){i.toggleClass("open")}),i.on("click",".item.option",function(){e.setValue(o()(this).attr("value"))}),o()("body").on("click",function(t){o()(t.target).closest(i).length||i.removeClass("open")})},this.initSelect=function(){n=o()("<div class='title' />"),s=o()("<div class='items' />"),n.append(o()("<span />").addClass("title-content")),n.append(o()("<i class='icon-arrow2' ></i>")),i.addClass("select-"+this.options.align),i.addClass("select-"+this.options.valign),this.options.multi&&i.addClass("multi"),i.append(n).append(s)},this.render=function(){n.find(".title-content").empty(),s.empty();for(var t=0,e=r.length;t<e;t++){var i=r[t],o=i.type||"item",l=a[o].call(null,i,t);s.append(l)}},this.setValue=function(t){var e=0;if(this.options.multi){t instanceof Array||(t=[t]);e=0;for(var i=t.length;e<i;e++)s.find("[value='"+t[e]+"']").toggleClass("selected")}else{var n=s.find(".selected"),o=n.attr("value");n.removeClass("selected"),s.find("[value='"+t+"']").addClass("selected")}this.setTitle(),this.emit("change",[this.getValue(),o])},this.getValue=function(){var t=s.find(".selected").map(function(){return o()(this).attr("value")}).toArray();return this.options.multi?t:t[0]},this.setSelectedIndex=function(t){r[t]&&this.setValue(r[t].value)},this.getSelectedIndex=function(){return+s.find(".selected").data("index")||-1},this.setTitle=function(){var t=s.find(".selected").map(function(){return o()("<span class='item-view'>"+o()(this).html()+"</span>")[0]}).toArray();if(0==t.length)var e=this.options.placeholder;else e=o()(t);n.find(".title-content").html(e)},this.update=function(e){for(var i=0,n=(r=t.clone(e)).length;i<n;i++){var o=r[i];"string"==typeof o&&(r[i]={text:o,value:o}),o.selected&&i}this.render(),this.setTitle()}};return e.setup=function(){return{items:[],placeholder:"Select a item",align:"left",valign:"top",multi:!1,modal:!1}},e}},z={name:"ui.slider",extend:"event",component:function(){var t=l.include("util.base"),e=l.include("util.math"),i=function(){var i,n,s,r,a,l,h,u,d,c,p,f,v,m;function g(){return i.options.min}function y(){return i.options.max}function x(){return i.options.type}function w(){return"double"==x()}function b(){return 0!=a.data("tooltip")&&i.options.tooltip}function C(t){return"from"==t?p:v}function k(t){return"from"==t?f:m}function z(t){return"to"==t?u:h}function E(e){return t.isTouch?e.originalEvent.touches[0]:e}function I(t,e){return t[0].style[e]}function D(){if("single"==x())n?c.height(I(h,"bottom")).css({bottom:0}):c.width(I(h,"left"));else if(n){var t=parseFloat(I(u,"bottom").replace("%","")),e=parseFloat(I(h,"bottom").replace("%",""));c.height(t-e+"%").css({bottom:e+"%"})}else{t=parseFloat(I(u,"left").replace("%","")),e=parseFloat(I(h,"left").replace("%",""));c.width(t-e+"%").css({left:e+"%"})}}function T(t,e){var i;if(w())if("from"==e)n?t>=(i=parseFloat(I(u,"bottom").replace("%","")))&&(t=i):t>=(i=parseFloat(I(u,"left").replace("%","")))&&(t=i);else if("to"==e){var o;if(n)t<=(o=parseFloat(I(h,"bottom").replace("%","")))&&(t=o);else t<=(o=parseFloat(I(h,"left").replace("%","")))&&(t=o)}return t}function N(e,o){var a=F(e/100);a<g()&&(a=g()),a>y()&&(a=y()),a=F((e=T(e=(a-g())/(y()-g())*100,o))/100);var h=e+"%",u=z(o);if(n?u.css({bottom:h}):u.css({left:h}),D(),b()){var d=C(o),c=k(o);if(t.typeCheck("function",i.options.format)&&(a=i.options.format.call(i,a)),c.html(a),n)d.css({bottom:l.height()*(e/100),"margin-bottom":d.height()/2*-1});else{d.css({left:h,"margin-left":d.width()/2*-1});var p=l.width()*(e/100),f=p+d.width()/2,v=p-d.width()/2;f>=l.width()?d.css({left:l.width()-d.width()+u.width()/2,"margin-left":0}).addClass("last"):v<=0?d.css({left:-u.width()/2,"margin-left":0}).addClass("first"):d.removeClass("first last")}d.show()}"from"==o?s!=a&&(i.emit("change",[{type:o,from:a,to:i.getToValue()}]),s=a):"to"==o&&r!=a&&(i.emit("change",[{type:o,from:i.getFromValue(),to:a}]),r=a)}function _(t,e){var n,s,r,a=void 0;"vertical"==i.options.orient?(s=(n=l.offset().top-o()("body").scrollTop())+l.height(),a=(r=E(t).clientY)<=n?100:r>=s?0:(s-r)/(s-n)*100):(s=(n=l.offset().left)+l.width(),a=(r=E(t).clientX)<n?0:r>s?100:(r-n)/(s-n)*100),N(a,e)}function F(t){void 0===t&&(t=n?parseFloat(h.css("bottom"))/l.height():parseFloat(h.css("left"))/l.width());var o=g(),s=o+(y()-o)*t,r=i.options.step,a=e.remain(s,r);return s=e.minus(s,a),a>e.div(r,2)&&(s=e.plus(s,r)),s}function S(){a.addClass(i.options.orient),l=o()("<div class='track' />"),d=o()("<div class='tooltip-track' />"),c=o()("<div class='progress' />"),0!=a.data("progress")&&i.options.progress||c.hide(),h=o()("<div class='handle from' />"),l.html(c),l.append(h),w()&&(u=o()("<div class='handle to' />"),l.append(u));var t=n?"right":"top";p=o()('<div class="tooltip '+t+'"><div class="message" /></div>').hide(),f=p.find(".message"),v=o()('<div class="tooltip '+t+'"><div class="message" /></div>').hide(),m=v.find(".message"),d.html(p),d.append(v),a.html(l),a.append(d),b()&&a.addClass("has-tooltip")}this.init=function(){i=this,a=o()(this.root),n="vertical"==this.options.orient,S(),i.addEvent(h,"mousedown",function(t){h.data("select",!0),o()("body").addClass("slider-cursor")}),w()&&i.addEvent(u,"mousedown",function(t){u.data("select",!0),o()("body").addClass("slider-cursor")}),i.addEvent(l,"mousedown",function(t){o()("body").addClass("slider-cursor"),"single"==i.options.type&&(h.data("select",!0),_(t,"from"))}),i.addEvent("body","mouseup",function(t){h.data("select",!1),"double"==i.options.type&&u.data("select",!1),o()("body").removeClass("slider-cursor")}),i.addEvent("body","mousemove",function(t){h.data("select")?_(t,"from"):"double"==i.options.type&&u.data("select")&&_(t,"to")}),this.setFromValue(),this.setToValue()},this.setFromValue=function(t){N(((t||a.data("from")||this.options.from)-g())/(y()-g())*100,"from")},this.setToValue=function(t){w()&&N(((t||a.data("to")||this.options.to)-g())/(y()-g())*100,"to")},this.getFromValue=function(){return F()},this.getToValue=function(){return w()?F(n?parseFloat(u.css("bottom"))/l.height():parseFloat(u.css("left"))/l.width()):F()}};return i.setup=function(){return{type:"single",orient:"horizontal",min:0,max:10,step:1,from:0,to:10,tooltip:!0,format:null,progress:!0}},i}},E={name:"ui.splitter",extend:"event",component:function(){var t=function(){var t,e,i,n,s,r,a,l,h,u,d,c=[];function p(){return"vertical"==h}function f(e){if(p()){var n=e.clientX-i.data("prevClientX"),o=parseFloat(i.css("left"))+n;o=t.caculateMinSize(o),i.css("left",o+"px"),c[1].css("left",o+r+"px"),c[0].css("width",o+"px"),u=o,i.data("prevClientX",e.clientX)}else{var s=e.clientY-i.data("prevClientY"),a=parseFloat(i.css("top"))+s;a=t.caculateMinSize(a),i.css("top",a+"px"),c[1].css("top",a+r+"px"),c[0].css("height",a+"px"),u=a,i.data("prevClientY",e.clientY)}}function v(){o()(document).off("mousemove",f),o()(document).off("mouseup",v),n.css("user-select",""),n.find("iframe").css("pointer-events","auto"),t.emit("move.done",[i])}this.init=function(){t=this,e=o()(this.root),s=this.options.barSize,h=this.options.direction,u=this.options.initSize,a=this.options.minSize,d=this.options.fixed,"number"==typeof a&&(a=[a,a]);for(var i=[],r=0,l=this.options.items.length;r<l;r++)c[r]=e.find(this.options.items[r]),c[r].css({position:"absolute",width:"auto",height:"auto",top:0,right:0,bottom:0,left:0}),i[r]=c[r][0];n=o()(i),this.initElement(),this.initEvent()},this.initElement=function(){e.css({position:"absolute",width:"100%",height:"100%",overflow:"hidden"}),i&&i.length&&i.remove(),(i=p()?o()("<div  />").css({position:"absolute",top:"0px",width:s,bottom:"0px",cursor:"ew-resize"}):o()("<div />").css({position:"absolute",left:"0px",height:s,right:"0px",cursor:"ns-resize"})).addClass(this.options.splitterClass),i.css(this.options.barStyle),r=p()?i.outerWidth():i.outerHeight(),e.append(i),this.initResize()},this.getSize=function(t,e){return"string"==typeof t&&t.indexOf("%")>-1?e*(parseFloat(t.replace("%",""))/100):t},this.getShowList=function(){for(var e=[],i=0,s=n.length;i<s;i++){o()(n[i]).hasClass(t.options.hideClass)||e.push(n[i])}return o()(e)},this.caculateMinSize=function(t){return p(),t<r+a[0]?t=r+a[0]:t>l-r-a[1]&&(t=l-r-a[1]),t},this.initResize=function(){var t=this.getShowList();if(1==t.length)t.css({left:"0px",width:"auto",height:"auto",right:0,top:0,bottom:0}),i.hide();else{if(p()){var n=e.width(),o=this.caculateMinSize(this.getSize(u,n));c[0].css({left:"0px",width:o+"px",top:0,bottom:0}),c[1].css({left:o+r+"px",right:"0px",width:"auto",top:0,bottom:0}),i.css({left:o+"px"})}else{var s=e.height();o=this.caculateMinSize(this.getSize(u,s));c[0].css({top:"0px",height:o+"px",width:"auto",left:0,right:0,bottom:"auto"}),c[1].css({top:o+r+"px",bottom:"0px",width:"auto",left:0,right:0}),i.css({top:o+"px"})}i.show()}},this.initEvent=function(){!0!==d&&e.on("mousedown","> ."+this.options.splitterClass,function(t){n.css("user-select","none"),n.find("iframe").css("pointer-events","none"),p()?(l=e.width(),i.data("prevClientX",t.clientX)):(l=e.height(),i.data("prevClientY",t.clientY)),o()(document).on("mousemove",f),o()(document).on("mouseup",v)})},this.setDirection=function(t){h=t,this.initElement()},this.setInitSize=function(t){u=t,this.initResize()},this.setHide=function(e){o()(n[e]).hide().addClass(t.options.hideClass),this.initResize()},this.setShow=function(e){o()(n[e]).show().removeClass(t.options.hideClass),this.initResize()},this.toggle=function(e){o()(n[e]).hasClass(t.options.hideClass)?this.setShow(e):this.setHide(e)}};return t.setup=function(){return{splitterClass:"ui-splitter",hideClass:"hide",barSize:4,barStyle:{"background-color":"#f6f6f6","border-right":"1px solid #e4e4e4"},direction:"vertical",initSize:"50%",minSize:30,items:[],fixed:!1}},t}},I={name:"ui.stringchecker",extend:"event",component:function(){var t=function(){var t={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,url:/^(http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/)?[a-z0-9]+([\-\.]{1}[a-z0-9]+)*\.[a-z]{2,5}(:[0-9]{1,5})?(\/.*)?$/,color:/#?([A-Fa-f0-9]){3}(([A-Fa-f0-9]){3})?/};function e(e,i,s,r){if(s.validJson){var a='{ "key":"'+i+'" }';try{JSON.parse(a)}catch(t){return r&&n(e,e.emit("invalid",["json",i])),!1}}if(s.validBlank&&""==o.a.trim(i)&&n(e,e.emit("invalid",["blank"])),null!=s.pattern){if("string"==typeof s.pattern){var l=!1,h=s.pattern.toLowerCase(),u=t[h];return null!=u&&(l=u.test(i)),!l&&r&&n(e,e.emit("invalid",[h,i])),l}if("object"==typeof s.pattern)return!(l=u.test(i))&&r&&n(e,e.emit("invalid",["regex",i])),l}return-1!=s.minLength&&i.length<s.minLength&&n(e,e.emit("invalid",["min",i])),-1!=s.maxLength&&i.length>s.maxLength&&n(e,e.emit("invalid",["max",i])),!0}function i(t){return{value:t=""+t}}function n(t,e){if("string"==typeof e&&""!=e)o()(t.root).attr("placeholder",e);else{var i=t.options.message;"string"==typeof i&&""!=i&&o()(t.root).attr("placeholder",i)}o()(t.root).addClass("invalid").val("")}this.init=function(){var t=this,s=this.root,r=function(t){var e=o()(t.root),i=t.options;return{value:e.val()||"",validJson:i.validJson,validBlank:i.validBlank,minLength:i.minLength,maxLength:i.maxLength,pattern:i.pattern}}(this);return o()(s).on("input",function(n){var a=o()(s).val();if(e(t,a,r,!1)){var l=i(a);r.value=l.value}}),o()(s).on("focus",function(t){o()(s).removeClass("invalid").attr("placeholder","")}),o()(s).on("focusout",function(a){var l=o()(s).val();if(e(t,l,r,!0)){var h=i(l);o()(s).val(h.value)}else n(t,null)}),setTimeout(function(){e(t,r.value,r,!0)?o()(s).val(r.value):n(t,null)},100),this}};return t.setup=function(){return{validJson:!0,validBlank:!1,minLength:-1,maxLength:-1,pattern:null,message:null}},t}},D={name:"ui.switch",extend:"event",component:function(){l.include("util.base");var t=function(){function t(t,e){var i=o()(t).find("."+e);return i.length||(i=o()("<div />").addClass(e)),i}this.init=function(){var e=this,i=this.options,n=t(this.root,"left"),s=t(this.root,"right"),r=t(this.root,"area"),a=t(this.root,"bar"),l=t(this.root,"handle");a.html(n),a.append(s),r.html(a),o()(this.root).html(r).append(l),this.addEvent(this.root,i.toggleEvent,function(t){e.toggle()}),i.checked&&o()(this.root).addClass("on")},this.getValue=function(){return o()(this.root).hasClass("on")},this.setValue=function(t){o()(this.root).toggleClass("on",!!t),this.emit("change",[t])},this.toggle=function(){this.setValue(!this.getValue())}};return t.setup=function(){return{checked:!1,toggleEvent:"click"}},t}},T={name:"ui.tab",extend:"event",component:function(){l.include("util.base");var t=l.include("ui.dropdown"),e=function(){var e=null,i=null,n=-1,s=0;function r(t){o()(t.root).children("li").eq(n).removeClass("checked")}function a(t,e){!function(t){o()(t.root).children("li").removeClass("active")}(t);var n=o()(t.root).children("li").eq(e).addClass("active");i.appendTo(n),l(t.options.target,n[0])}function l(t,e,i){var n=o()(e).find("[href*=\\#]").attr("href");o()(t).children("*").each(function(t){"#"+this.id==n?o()(this).show():o()(this).hide()})}function h(t){o()(t.root).children("li").each(function(i){o()(this).hasClass("menu")&&(n=i),t.addEvent(this,["click","contextmenu"],function(r){if(o()(this).hasClass("disabled"))return!1;var h=o.a.trim(o()(this).text()),u=o()(this).val();if(i!=n){if(i!=s){var d=[{index:i,text:h,value:u},r];""!=t.options.target&&l(t.options.target,this),s=i,t.emit("change",d),t.emit("click",d),a(t,i)}}else t.emit("menu",[{index:i,text:h},r]),"show"!=e.type&&function(t,i){var n=o()(i).offset();o()(i).addClass("checked"),e.show(n.left,n.top+o()(t.root).height())}(t,this);return!1})}),function(t){var e=o()(t.root).children("li"),n=e.filter(".active"),r=e.eq(s),l=1==n.length?n:r;(l.hasClass("disabled")||0==l.length)&&(l=e.eq(0),s=0);i.appendTo(l),a(t,e.index(l))}(t),function(t){if(!t.options.drag)return;var e=o()(t.root).children("li"),i=null,n=null,s=null,r=null;e.each(function(a){t.addEvent(this,"mousedown",function(e){return i=o()(this),n=i.clone().css("opacity","0.5"),s=a,t.emit("dragstart",[s,e]),!1}),t.addEvent(this,"mousemove",function(t){null!=s&&(s>(r=a)?0==r?n.insertBefore(e.eq(0)):n.insertAfter(e.eq(r-1)):r==e.length-1?n.insertAfter(e.eq(r)):n.insertBefore(e.eq(r+1)),i.hide())})}),t.addEvent(t.root,"mouseup",function(e){null!=i&&i.show(),null!=n&&n.remove(),null!=s&&null!=r&&(t.move(s,r),t.emit("dragend",[r,e])),s=null,r=null})}(t)}this.init=function(){var n=this,a=this.options;if(s=a.index,i=o()("<div class='anchor'></div>"),a.nodes.length>0?this.update(a.nodes):h(this),this.tpl.menu){var l=o()(this.tpl.menu());o()("body").append(l),e=t(l,{event:{change:function(t,e){r(n),n.emit("changemenu",[t,e])},hide:function(){r(n)}}})}return this},this.update=function(t){if(this.tpl.node){o()(this.root).empty();for(var e=0;e<t.length;e++)o()(this.root).append(this.tpl.node(t[e]));h(this)}},this.insert=function(t,e){if(this.tpl.node){var i=this.tpl.node(e),n=o()(this.root).children("li");t==n.length?o()(i).insertAfter(n.eq(t-1)):o()(i).insertBefore(n.eq(t)),h(this)}},this.append=function(t){if(this.tpl.node){var e=this.tpl.node(t);-1!=n?(o()(e).insertBefore(o()(this.root).find(".menu")),n++):o()(this.root).append(e),h(this)}},this.prepend=function(t){this.tpl.node&&(o()(this.root).prepend(this.tpl.node(t)),h(this))},this.remove=function(t){o()(this.root).children("li").eq(t).remove(),h(this)},this.move=function(t,e){if(t!=e){var i=o()(this.root).children("li"),n=i.eq(t);t>e?0==e?n.insertBefore(i.eq(0)):n.insertAfter(i.eq(e-1)):e==i.length-1?n.insertAfter(i.eq(e)):n.insertBefore(i.eq(e+1)),s=e,h(this)}},this.show=function(t){if(t!=n&&t!=s){var e=o()(this.root).children("li").eq(t);e.hasClass("disabled")||(s=t,this.emit("change",[{index:t,text:o.a.trim(e.text()),value:e.val()}]),a(this,t))}},this.enable=function(t){t!=n&&t!=s&&o()(this.root).children("li").eq(t).removeClass("disabled")},this.disable=function(t){t!=n&&t!=s&&o()(this.root).children("li").eq(t).addClass("disabled")},this.activeIndex=function(){return s}};return e.setup=function(){return{target:"",index:0,drag:!1,nodes:[]}},e}},N={name:"ui.timepicker",extend:"event",component:function(){var t=function(){var t,e,i=null;function n(i,n){var o=new Date(i,n,0);return{min:{year:t,month:1,date:1,hours:0,minutes:0},max:{year:e,month:12,date:o.getDate(),hours:23,minutes:59}}}function s(t){return t<10?"0"+t:t}function r(t){var e=t||window.event,i=e.keyCode||e.which;i=String.fromCharCode(i);/[0-9]|\./.test(i)||(e.returnValue=!1,e.preventDefault&&e.preventDefault())}function a(t,e,i,n,r){r||o()(t).focus(),function(t,e){var i=parseInt(o()(t).val())+(e||0);i<0&&(i=0),o()(t).val(s(i))}(t,e),function(t,e,i){var n=parseInt(o()(t).val());isNaN(n)?o()(t).val(s(e)):(n>i&&o()(t).val(i),n<e&&o()(t).val(s(e)))}(t,i,n)}function l(t){var e=o()(t.target).parent(),s=0,r=i.attr("class"),l=n(e.children(".year").val(),e.children(".month").val());38==t.which?s=1:40==t.which&&(s=-1),0!=s&&a(t.target,s,l.min[r],l.max[r])}this.init=function(){return t=this.options.minYear,e=this.options.maxYear,function(h){var u=h.options.year,d=h.options.month,c=h.options.date,p=h.options.hours,f=h.options.minutes,v=o()(h.root).children(".year").attr("maxlength",4),m=o()(h.root).children(".month").attr("maxlength",2),g=o()(h.root).children(".date").attr("maxlength",2),y=o()(h.root).children(".hours").attr("maxlength",2),x=o()(h.root).children(".minutes").attr("maxlength",2);v.on("keypress",r),v.on("keyup",l),v.on("focusout",function(i){a(this,0,t,e,!0)}),v.on("focus",function(t){(i=v).select()}),m.on("keypress",r),m.on("keyup",l),m.on("focusout",function(t){a(this,0,1,12,!0)}),m.on("focus",function(t){(i=m).select()}),g.on("keypress",r),g.on("keyup",l),g.on("focusout",function(t){a(this,0,1,n(v.val(),m.val()).max.date,!0)}),g.on("focus",function(t){(i=g).select()}),y.on("keypress",r),y.on("keyup",l),y.on("focusout",function(t){a(this,0,0,23,!0)}),y.on("focus",function(t){(i=y).select()}),x.on("keypress",r),x.on("keyup",l),x.on("focusout",function(t){a(this,0,0,59,!0)}),x.on("focus",function(t){(i=x).select()}),v.val(u),m.val(s(d)),g.val(s(c)),y.val(s(p)),x.val(s(f)),i=0==v.length?y:v}(this),function(t){var e=o()(t.root).children("i"),s=o()("<div></div>"),r=o()("<div></div>"),l=o()(t.root).children(".year"),h=o()(t.root).children(".month");if(o()(t.root).children(".date"),o()(t.root).children(".hours"),o()(t.root).children(".minutes"),!(l.length>0)){var u=o()(t.root).outerHeight()/2,d={position:"absolute",width:u,height:u,cursor:"pointer",right:e.css("right")};s.css(o.a.extend({top:"0px"},d)),r.css(o.a.extend({top:u+"px"},d)),s.on("click",function(t){var e=i.attr("class"),o=n(l.val(),h.val());a(i[0],1,o.min[e],o.max[e])}),r.on("click",function(t){var e=i.attr("class"),o=n(l.val(),h.val());a(i[0],-1,o.min[e],o.max[e])}),o()(t.root).append(s),o()(t.root).append(r)}}(this),this},this.setYear=function(i){a(o()(this.root).children(".year").val(i)[0],0,t,e)},this.getYear=function(){return parseInt(o()(this.root).children(".year").val())},this.setMonth=function(t){a(o()(this.root).children(".month").val(t)[0],0,1,12)},this.getMonth=function(){return parseInt(o()(this.root).children(".month").val())},this.setDate=function(t){var e=n(this.getYear(),this.getMonth());a(o()(this.root).children(".date").val(t)[0],0,1,e.max.date)},this.getDate=function(){return parseInt(o()(this.root).children(".date").val())},this.setHours=function(t){a(o()(this.root).children(".hours").val(t)[0],0,0,23)},this.getHours=function(){return parseInt(o()(this.root).children(".hours").val())},this.setMinutes=function(t){a(o()(this.root).children(".minutes").val(t)[0],0,0,59)},this.getMinutes=function(){return parseInt(o()(this.root).children(".minutes").val())}};return t.setup=function(){var t=new Date;return{year:t.getFullYear(),month:t.getMonth()+1,date:t.getDate(),hours:t.getHours(),minutes:t.getMinutes(),minYear:2015,maxYear:2020}},t}},_={name:"ui.tooltip",extend:"event",component:function(){var t=function(){var t=null,e={},i="",n=null;function s(i,n){t=o()(i.tpl.item({timestamp:i.timestamp,position:i.options.position,color:i.options.color,message:n})),i.options.width&&t.css("max-width",i.options.width),i.options.align&&t.css("text-align",i.options.align),o()("body").append(t),function(i){var n=o()(i.root).offset(),s=o()(i.root).outerWidth(),r=o()(i.root).outerHeight(),a=t.outerWidth(),l=t.outerHeight(),h=0,u=0,d=i.options.position;"left"==d?(h=n.left-a,u=n.top-(l-r)/2):"right"==d?(h=n.left+s,u=n.top-(l-r)/2):"bottom"==d?(h=n.left-a/2+s/2,u=n.top+r):(h=n.left-a/2+s/2,u=n.top-l);e={x:h<1?1:h,y:u<1?1:u}}(i)}function r(i,o){clearTimeout(n),null!=t&&(t.remove(),t=null,e={}),null!=n&&(i.emit("hide",[o]),n=null)}this.init=function(){var a=this,l=this.options;i=o()(this.root).attr("title"),o()(this.root).removeAttr("title"),o()(this.root).off(l.showType).off(l.hideType),this.addEvent(this.root,l.showType,function(o){return null==n?n=setTimeout(function(){!function(n,o){t&&r(n,o);var a=n.options.title?n.options.title:i;""!=a&&(s(n,a),t.css({left:e.x,top:e.y}))}(a,o),null!=t&&a.emit("show",[t.get(0),o])},l.delay):l.showType==l.hideType&&r(a,o),!1}),l.showType!=l.hideType&&this.addEvent(this.root,l.hideType,function(t){return r(a,t),!1})},this.update=function(e){i=e,null!=t&&t.find(".message").html(i)}};return t.setup=function(){return{color:"null",position:"top",width:150,align:"left",delay:0,showType:"mouseover",hideType:"mouseout",title:"",tpl:{item:"<div class='tooltip <!= position !>' <! if(color != null) { !>style='background-color: <!= color !>'<! } !>><div class='anchor'></div><div class='message'><!= message !></div></div>"}}},t}};l.defineUI("ui.tooltip",["jquery"],function(t){}),l.define("ui.tree.node",[],function(){return function(t,e){var i=this;function n(t){i.nodenum=isNaN(t)?i.nodenum:t,i.parent&&(null==i.parent.index?i.index=""+i.nodenum:i.index=i.parent.index+"."+i.nodenum),i.parent&&"string"==typeof i.index&&(i.depth=i.index.split(".").length),i.children.length>0&&function t(e){for(var i=e.children,n=0;n<i.length;n++)i[n].reload(n),i[n].children.length>0&&t(i[n])}(i)}function s(){if(!e)return i.element;try{var t=o()(e(o.a.extend({node:{index:i.index,data:i.data,depth:i.depth}},i.data))).get(0)}catch(t){console.log(t)}return t}function r(t){o()(t.element).remove();for(var e=0;e<t.children.length;e++){var i=t.children[e];i.children.length>0?r(i):o()(i.element).remove()}}function a(t){for(var e=0;e<t.children.length;e++){var i=t.children[e];i.reload(e),i.children.length>0&&a(i)}}this.data=t,this.element=null,this.index=null,this.nodenum=null,this.parent=null,this.children=[],this.depth=0,this.type="open",this.reload=function(t,e){if(n(t),null!=this.element){var i=s();e?o()(i).insertAfter(this.element):o()(this.parent.element).children("ul").append(i),o()(this.element).remove(),this.element=i}else this.element=s()},this.reloadChildrens=function(){a(this)},this.destroy=function(){null!=this.parent?this.parent.removeChild(this.index):(r(this),o()(this.element).remove())},this.isLeaf=function(){return 0==this.children.length},this.fold=function(){o()(this.element).children("ul").hide(),this.type="fold"},this.open=function(){o()(this.element).children("ul").show(),this.type="open"},this.appendChild=function(t){o()(this.element).children("ul").append(t.element),this.children.push(t)},this.insertChild=function(t,e){0==t?0==this.children.length?o()(this.element).children("ul").append(e.element):o()(e.element).insertBefore(this.children[0].element):o()(e.element).insertAfter(this.children[t-1].element);var i=this.children.splice(0,t);i.push(e),this.children=i.concat(this.children),a(this)},this.removeChild=function(t){for(var e=0;e<this.children.length;e++){var i=this.children[e];i.index==t&&(this.children.splice(e,1),r(i))}a(this)},this.lastChild=function(){return this.children.length>0?this.children[this.children.length-1]:null},this.lastChildLeaf=function(t){var e=t||this.lastChild();return e.isLeaf()?e:this.lastChildLeaf(e.lastChild())}}}),l.define("ui.tree.base",["util.base","ui.tree.node"],function(t,e){return function(i){var n=this,o=null,s=i.$obj,r=i.$tpl,a=t.index();function l(t,i,n){var o=new e(t,r.node);return o.parent=n||null,o.reload(i),o}function h(t,e){var i=e.children;if(i.length>0)for(var n=0;n<i.length;n++)t.push(i[n]),i[n].children.length>0&&h(t,i[n])}this.appendNode=function(){var t=arguments[0],e=arguments[1];return e?function(t,e){var i=n.getNode(t),o=l(e,i.children.length,i);return i.appendChild(o),o}(t,e):function(t){if(null==o)o=l(t),s.tree.append(o.element);else{var e=l(t,o.children.length,o);o.appendChild(e)}return e}(t)},this.insertNode=function(t,e){return 0==o.children.length&&0==parseInt(t)?this.appendNode(e):function(t,e){var i=a.getIndexList(t),o=n.getNodeParent(t),s=i[i.length-1],r=l(e,s,o);return o.insertChild(s,r),r}(t,e)},this.updateNode=function(t,e){var i=this.getNode(t);for(var n in e)i.data[n]=e[n];return i.reload(i.nodenum,!0),i.reloadChildrens(),i},this.removeNode=function(t){this.getNode(t).destroy()},this.removeNodes=function(){var t=o.children;if(t.length>0){var e=t.pop();e.parent=null,e.destroy(),this.removeNodes()}},this.openNode=function(t){null==t?this.getRoot().open():this.getNode(t).open()},this.foldNode=function(t){null==t?this.getRoot().fold():this.getNode(t).fold()},this.openNodeAll=function(t){for(var e=this.getNodeAll(t),i=0;i<e.length;i++)e[i].open();null==t&&this.getRoot().open()},this.foldNodeAll=function(t){for(var e=this.getNodeAll(t),i=0;i<e.length;i++)e[i].fold();null==t&&this.getRoot().fold()},this.moveNode=function(t,e){if(t!=e&&!function t(e,i){var n=a.getParentIndex(i);return null!=n&&(e==n||t(e,n))}(t,e)){var i=this.getNode(t),n=this.getNodeParent(e),o=a.getIndexList(e),s=o[o.length-1];if(!function(t,e){for(var i=[];;){var n=e.parent;if(!n)break;i.push(n),e=n}for(var o=0;o<i.length;o++)if(t==i[o])return!0;return!1}(i,n)){i.parent.children.splice(i.nodenum,1),i.parent.reloadChildrens(),i.parent=n;var r=n.children.splice(0,s);r.push(i),n.children=r.concat(n.children),n.reloadChildrens()}}},this.getNode=function(t){if(null==t)return o.children;var e=o.children;if(a.isIndexDepth(t)){var i=a.getIndexList(t);return function t(e,i){if(!i)return null;var n=e.shift();return void 0==n?i:t(e,i.children[n])}(i,e[i.shift()])}return e[t]?e[t]:null},this.getNodeAll=function(t){for(var e=[],i=null==t?o.children:[this.getNode(t)],n=0;n<i.length;n++)i[n]&&(e.push(i[n]),i[n].children.length>0&&h(e,i[n]));return e},this.getNodeParent=function(t){var e=a.getIndexList(t);return 1==e.length?o:2==e.length?this.getNode(e[0]):e.length>2?(e.pop(),this.getNode(e.join("."))):void 0},this.getRoot=function(){return o}}});var F={name:"ui.tree",extend:"event",component:function(){var t=l.include("util.base"),e=l.include("ui.tree.base"),i=function(){var i={start:null,end:null,clone:null},n=null,s=t.index();function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];o()(n.element).removeClass("open fold leaf last"),n.parent&&n.isLeaf()?o()(n.element).addClass("leaf"):"open"==n.type?(o()(n.element).addClass("open"),n.open()):(o()(n.element).addClass("fold"),n.fold()),n.parent?n.parent.lastChild()==n&&o()(n.element).addClass("last"):o()(n.element).addClass("root"),o()(n.element).children("i:first-child").remove(),o()(n.element).prepend(o()("<i></i>"))}}function a(t,e,i){if(null==e)if(t.options.rootHide){for(var n=t.uit.getRoot().children,o=0;o<n.length;o++)i(n[o].index);d(t,!1)}else i(e),d(t,!0);else i(e),d(t,!1)}function l(t,e){for(var i=0;i<e.length;i++)!function(e){var i=o()(e.element);t.addEvent(i.children("i:first-child"),"click",function(i){"open"==e.type?t.fold(e.index,i):t.open(e.index,i),i.stopPropagation()}),t.addEvent(i.children("a,span,div")[0],"click",function(n){i.hasClass("disabled")||i.attr("disabled")||(t.emit("select",[e,n]),t.emit("change",[e,n]),n.stopPropagation())})}(e[i])}function h(t,e){if(t.options.drag){var n=t.uit.getRoot();e||(i.start=null,i.end=null,i.clone=null),o()(n.element).find("li.hover").removeClass("hover")}}function u(t,e,n,r){if(t.options.drag){var a=r?s.getNextIndex(e.index):e.index,l=o()("<div class='drag'></div>").attr("data-index",a).css(n).outerWidth(o()(e.element).outerWidth());o()(t.root).append(l),t.addEvent(l,"mouseover",function(e){i.start&&(i.end=a,l.addClass("on"),h(t,!0))}),t.addEvent(l,"mouseout",function(t){i.start&&l.removeClass("on")})}}function d(t,e){var n=t.listAll();r(0,n),l(t,n),function(t,e){if(t.options.drag){for(var n=t.uit.getRoot(),r=0;r<e.length;r++)!function(e){o()(e.element).off("mousedown").off("mouseup"),t.addEvent(e.element,"mousedown",function(n){if("I"!=n.target.tagName)return null==i.start&&!1!==t.emit("dragstart",[e,n])&&(i.start=e.index),!1}),t.addEvent(e.element,"mouseup",function(n){if("I"!=n.target.tagName){if(!1!==t.options.dragChild&&i.start&&i.start!=e.index){var o=e.lastChild(),r=o?s.getNextIndex(o.index):e.index+".0";!1!==t.emit("dragend",[t.get(e.index),n])&&t.move(i.start,r)}return h(t),!1}}),t.addEvent(e.element,"mouseover",function(n){if("I"!=n.target.tagName)return!1!==t.options.dragChild&&i.start&&i.start!=e.index&&!1!==t.emit("dragover",[e,n])&&(h(t,!0),o()(e.element).addClass("hover")),!1}),t.addEvent(n.element,"mouseup",function(e){if("I"!=e.target.tagName){if(!1!==t.options.dragChild&&i.start){var o=""+n.children.length;t.move(i.start,o),t.emit("dragend",[t.get(o),e])}return h(t),!1}})}(e[r]);t.addEvent("body","mouseup",function(e){return i.start&&i.end&&(t.move(i.start,i.end),t.emit("dragend",[t.get(i.end),e])),h(t),!1})}}(t,n),function(t){if(t.options.drag){o()(t.root).find(".drag").remove();for(var e=t.listAll(),i=0;i<e.length;i++){var n=e[i],s=o()(n.element).position();s.top>0&&u(t,n,s)}}}(t),function(t){if(t.options.drag)for(var e=t.listAll(),i=0;i<e.length;i++){var n=e[i],s=o()(n.element).position();s.top>0&&n.parent&&n.parent.lastChild()==n&&(s.top=s.top+o()(n.element).outerHeight(),u(t,n,s,!0))}}(t),e&&(r(0,[t.uit.getRoot()]),l(t,[t.uit.getRoot()]))}this.init=function(){var t=this.options;if(this.uit=new e({$obj:{tree:o()(this.root)},$tpl:this.tpl}),!t.root)throw new Error("JUI_CRITICAL_ERROR: root data is required");if(this.uit.appendNode(t.root),d(this,!0),t.rootHide){var i=this.uit.getRoot();o()(i.element).css("padding-left","0px"),o()(i.element).children("*:not(ul)").hide()}t.rootFold&&this.fold()},this.update=function(e,i){var n=1==arguments.length?arguments[0]:arguments[1];if(null!=(e=2==arguments.length?arguments[0]:null))this.uit.updateNode(e,n);else{var o=t.index();this.uit.removeNodes();for(var s=0;s<n.length;s++){var r=o.getParentIndex(n[s].index);null==r?this.uit.appendNode(n[s].data):this.uit.appendNode(r,n[s].data)}}d(this)},this.append=function(){var t=1==arguments.length?arguments[0]:arguments[1],e=2==arguments.length?arguments[0]:null;t=void 0==t.length?[t]:t;for(var i=0;i<t.length;i++)null!=e?this.uit.appendNode(e,t[i]):this.uit.appendNode(t[i]);d(this)},this.insert=function(t,e){for(var i=void 0==e.length?[e]:e,n=0;n<i.length;n++)this.uit.insertNode(t,i[n]);d(this)},this.select=function(t){var e=null==t?this.uit.getRoot():this.get(t);return o()(this.root).find("li").removeClass("active"),o()(e.element).addClass("active"),n=t,e},this.unselect=function(){if(null!=n){var t=this.get(n);return o()(t.element).removeClass("active"),n=null,t}},this.remove=function(t){this.uit.removeNode(t),d(this)},this.reset=function(){this.uit.removeNodes(),d(this)},this.move=function(t,e){this.uit.moveNode(t,e),d(this)},this.open=function(t,e){if(null!=t||!this.options.rootHide){var i=null==t;this.uit.openNode(t),d(this,i),this.emit("open",[i?this.uit.getRoot():this.get(t),e])}},this.fold=function(t,e){if(null!=t||!this.options.rootHide){var i=null==t;this.uit.foldNode(t),d(this,i),this.emit("fold",[i?this.uit.getRoot():this.get(t),e])}},this.openAll=function(t){var e=this,i=null==t;a(this,t,function(t){e.uit.openNodeAll(t)}),this.emit("openall",[i?this.uit.getRoot():this.get(t)])},this.foldAll=function(t){var e=this,i=null==t;a(this,t,function(t){e.uit.foldNodeAll(t)}),this.emit("foldall",[i?this.uit.getRoot():this.get(t)])},this.list=function(){return this.uit.getNode()},this.listAll=function(){return this.uit.getNodeAll()},this.listParents=function(t){var e=this.get(t),i=[];return e.parent&&function t(e){null!=e.index&&(i.push(e),null!=e.parent&&t(e.parent))}(e.parent),i.reverse()},this.get=function(t){return null==t?null:this.uit.getNode(t)},this.getAll=function(t){return null==t?null:this.uit.getNodeAll(t)},this.activeIndex=function(){return n}};return i.setup=function(){return{root:null,rootHide:!1,rootFold:!1,drag:!1,dragChild:!0}},i}},S={name:"ui.window",extend:"event",component:function(){l.include("util.base");var t=l.include("ui.modal"),e=function(){var e=null,i=null,n={},s={},r={},a=null;function l(){var t=r.$foot.length<1?5:r.$foot.outerHeight();r.$body.outerHeight(r.$root.outerHeight()-r.$head.outerHeight()-t)}this.init=function(){var h=this,u=this.options,d=o()(this.root),c=o()(this.root).children(".head"),p=o()(this.root).children(".body"),f=o()(this.root).children(".foot");if(u.modal&&(u.move=!1,u.resize=!1),e=u.layerIndex,r={$root:d,$head:c,$body:p,$foot:f},d.css(o.a.extend({position:"absolute"},u)).appendTo(o()("body")),u.move&&this.addEvent(c,"mousedown",function(t){i=d,n.check=!0,n.disX=t.pageX-i.offset().left,n.disY=t.pageY-i.offset().top}),u.resize&&(d.append("<i class='icon-resize resize'></i>"),this.addEvent(d.children(".resize"),"mousedown",function(t){return i=d,s.check=!0,s.disX=i.width()+i.offset().left,s.disWidth=i.width(),s.disY=i.height()+i.offset().top,s.disHeight=i.height(),!1})),u.modal||h.addEvent(d,"mousedown",function(t){d.css("z-index",++e),t.stopPropagation()}),this.addEvent(c.find(".close"),"click",function(t){return h.hide(),!1}),this.addEvent("body","mousemove",function(t){if(n.check){var e=t.pageX-n.disX,r=t.pageY-n.disY;o()(i).css({left:e+"px",top:r+"px"})}if(s.check){var a=t.pageX-s.disX,h=t.pageY-s.disY;i.width(s.disWidth+a),i.height(s.disHeight+h),l()}}),this.addEvent("body","mouseup",function(t){n.check&&h.emit("move",t),s.check&&h.emit("resize",t),n.check=!1,s.check=!1}),this.type="hide",d.hide(),u.modal){var v=u.modalIndex>0?{index:u.modalIndex}:{};a=t(h.root,o.a.extend({autoHide:!1},v))}},this.hide=function(){a?a.hide():r.$root.hide(),this.emit("hide"),this.type="hide"},this.show=function(t,e){a?a.show():r.$root.show(),(t||e)&&this.move(t,e),this.emit("show"),this.type="show",l()},this.move=function(t,e){r.$root.css("left",t),r.$root.css("top",e)},this.update=function(t){r.$body.empty().html(t)},this.setTitle=function(t){r.$head.find(".title").empty().html(t)},this.setSize=function(t,e){r.$root.width(t),r.$root.height(e),l()},this.resize=function(){l()},this.resizeModal=function(){a&&a.resize()}};return e.setup=function(){return{width:400,height:300,left:"auto",top:"auto",right:"auto",bottom:"auto",modal:!1,move:!0,resize:!0,modalIndex:0,layerIndex:2e3,animate:!1}},e}};l.use([h,u,d,c,p,f,v,m,g,y,x,w,b,C,k,z,E,I,D,T,N,_,F,S]),window.jui=window.JUI=l},function(t,e){}]);